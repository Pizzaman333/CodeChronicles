let e,t,n;var r,i,s,o=globalThis,a={},l={},u=o.parcelRequire5512;null==u&&((u=function(e){if(e in a)return a[e].exports;if(e in l){var t=l[e];delete l[e];var n={id:e,exports:{}};return a[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){l[e]=t},o.parcelRequire5512=u),(0,u.register)("f1q41",function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",a=1/0,l=0/0,u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",h="[object Array]",f="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Function]",m="[object GeneratorFunction]",v="[object Map]",_="[object Number]",y="[object Object]",b="[object Promise]",w="[object RegExp]",I="[object Set]",E="[object String]",C="[object Symbol]",T="[object WeakMap]",S="[object ArrayBuffer]",k="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",R="[object Int8Array]",P="[object Int16Array]",N="[object Int32Array]",L="[object Uint8Array]",D="[object Uint8ClampedArray]",x="[object Uint16Array]",M="[object Uint32Array]",U=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,F=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,B=RegExp(F.source),W=RegExp(z.source),H=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,Z=RegExp(Y.source),X=/^\s+/,Q=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,en=/,? & /,er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ei=/[()=,{}\[\]\/\s]/,es=/\\(\\)?/g,eo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ea=/\w*$/,el=/^[-+]0x[0-9a-f]+$/i,eu=/^0b[01]+$/i,ec=/^\[object .+?Constructor\]$/,eh=/^0o[0-7]+$/i,ef=/^(?:0|[1-9]\d*)$/,ed=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ep=/($^)/,eg=/['\n\r\u2028\u2029\\]/g,em="\ud800-\udfff",ev="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e_="\\u2700-\\u27bf",ey="a-z\\xdf-\\xf6\\xf8-\\xff",eb="A-Z\\xc0-\\xd6\\xd8-\\xde",ew="\\ufe0e\\ufe0f",eI="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eE="['’]",eC="["+eI+"]",eT="["+ev+"]",eS="["+ey+"]",ek="[^"+em+eI+"\\d+"+e_+ey+eb+"]",eA="\ud83c[\udffb-\udfff]",eO="[^"+em+"]",eR="(?:\ud83c[\udde6-\uddff]){2}",eP="[\ud800-\udbff][\udc00-\udfff]",eN="["+eb+"]",eL="\\u200d",eD="(?:"+eS+"|"+ek+")",ex="(?:"+eN+"|"+ek+")",eM="(?:"+eE+"(?:d|ll|m|re|s|t|ve))?",eU="(?:"+eE+"(?:D|LL|M|RE|S|T|VE))?",ej="(?:"+eT+"|"+eA+")?",eV="["+ew+"]?",eF="(?:"+eL+"(?:"+[eO,eR,eP].join("|")+")"+eV+ej+")*",ez=eV+ej+eF,eB="(?:"+["["+e_+"]",eR,eP].join("|")+")"+ez,eW="(?:"+[eO+eT+"?",eT,eR,eP,"["+em+"]"].join("|")+")",eH=RegExp(eE,"g"),e$=RegExp(eT,"g"),eq=RegExp(eA+"(?="+eA+")|"+eW+ez,"g"),eK=RegExp([eN+"?"+eS+"+"+eM+"(?="+[eC,eN,"$"].join("|")+")",ex+"+"+eU+"(?="+[eC,eN+eD,"$"].join("|")+")",eN+"?"+eD+"+"+eM,eN+"+"+eU,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eB].join("|"),"g"),eG=RegExp("["+eL+em+ev+ew+"]"),eJ=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eY=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eZ=-1,eX={};eX[A]=eX[O]=eX[R]=eX[P]=eX[N]=eX[L]=eX[D]=eX[x]=eX[M]=!0,eX[c]=eX[h]=eX[S]=eX[f]=eX[k]=eX[d]=eX[p]=eX[g]=eX[v]=eX[_]=eX[y]=eX[w]=eX[I]=eX[E]=eX[T]=!1;var eQ={};eQ[c]=eQ[h]=eQ[S]=eQ[k]=eQ[f]=eQ[d]=eQ[A]=eQ[O]=eQ[R]=eQ[P]=eQ[N]=eQ[v]=eQ[_]=eQ[y]=eQ[w]=eQ[I]=eQ[E]=eQ[C]=eQ[L]=eQ[D]=eQ[x]=eQ[M]=!0,eQ[p]=eQ[g]=eQ[T]=!1;var e0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e1=parseFloat,e2=parseInt,e3="object"==typeof o&&o&&o.Object===Object&&o,e6="object"==typeof self&&self&&self.Object===Object&&self,e4=e3||e6||Function("return this")(),e5=t&&!t.nodeType&&t,e8=e5&&e&&!e.nodeType&&e,e7=e8&&e8.exports===e5,e9=e7&&e3.process,te=function(){try{var e=e8&&e8.require&&e8.require("util").types;if(e)return e;return e9&&e9.binding&&e9.binding("util")}catch(e){}}(),tt=te&&te.isArrayBuffer,tn=te&&te.isDate,tr=te&&te.isMap,ti=te&&te.isRegExp,ts=te&&te.isSet,to=te&&te.isTypedArray;function ta(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function tl(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function tu(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function tc(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function th(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function tf(e,t){return!!(null==e?0:e.length)&&tI(e,t,0)>-1}function td(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function tp(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function tg(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function tm(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function tv(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function t_(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var ty=tS("length");function tb(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function tw(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return -1}function tI(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return -1}(e,t,n):tw(e,tC,n)}function tE(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return -1}function tC(e){return e!=e}function tT(e,t){var n=null==e?0:e.length;return n?tO(e,t)/n:l}function tS(e){return function(t){return null==t?n:t[e]}}function tk(e){return function(t){return null==e?n:e[t]}}function tA(e,t,n,r,i){return i(e,function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)}),n}function tO(e,t){for(var r,i=-1,s=e.length;++i<s;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function tR(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function tP(e){return e?e.slice(0,tK(e)+1).replace(X,""):e}function tN(e){return function(t){return e(t)}}function tL(e,t){return tp(t,function(t){return e[t]})}function tD(e,t){return e.has(t)}function tx(e,t){for(var n=-1,r=e.length;++n<r&&tI(t,e[n],0)>-1;);return n}function tM(e,t){for(var n=e.length;n--&&tI(t,e[n],0)>-1;);return n}var tU=tk({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tj=tk({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tV(e){return"\\"+e0[e]}function tF(e){return eG.test(e)}function tz(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function tB(e,t){return function(n){return e(t(n))}}function tW(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];(a===t||a===s)&&(e[n]=s,o[i++]=n)}return o}function tH(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function t$(e){return tF(e)?function(e){for(var t=eq.lastIndex=0;eq.test(e);)++t;return t}(e):ty(e)}function tq(e){return tF(e)?e.match(eq)||[]:e.split("")}function tK(e){for(var t=e.length;t--&&Q.test(e.charAt(t)););return t}var tG=tk({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tJ=function e(t){var o,Q,em,ev,e_=(t=null==t?e4:tJ.defaults(e4.Object(),t,tJ.pick(e4,eY))).Array,ey=t.Date,eb=t.Error,ew=t.Function,eI=t.Math,eE=t.Object,eC=t.RegExp,eT=t.String,eS=t.TypeError,ek=e_.prototype,eA=ew.prototype,eO=eE.prototype,eR=t["__core-js_shared__"],eP=eA.toString,eN=eO.hasOwnProperty,eL=0,eD=(o=/[^.]+$/.exec(eR&&eR.keys&&eR.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",ex=eO.toString,eM=eP.call(eE),eU=e4._,ej=eC("^"+eP.call(eN).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eV=e7?t.Buffer:n,eF=t.Symbol,ez=t.Uint8Array,eB=eV?eV.allocUnsafe:n,eW=tB(eE.getPrototypeOf,eE),eq=eE.create,eG=eO.propertyIsEnumerable,e0=ek.splice,e3=eF?eF.isConcatSpreadable:n,e6=eF?eF.iterator:n,e5=eF?eF.toStringTag:n,e8=function(){try{var e=ip(eE,"defineProperty");return e({},"",{}),e}catch(e){}}(),e9=t.clearTimeout!==e4.clearTimeout&&t.clearTimeout,te=ey&&ey.now!==e4.Date.now&&ey.now,ty=t.setTimeout!==e4.setTimeout&&t.setTimeout,tk=eI.ceil,tY=eI.floor,tZ=eE.getOwnPropertySymbols,tX=eV?eV.isBuffer:n,tQ=t.isFinite,t0=ek.join,t1=tB(eE.keys,eE),t2=eI.max,t3=eI.min,t6=ey.now,t4=t.parseInt,t5=eI.random,t8=ek.reverse,t7=ip(t,"DataView"),t9=ip(t,"Map"),ne=ip(t,"Promise"),nt=ip(t,"Set"),nn=ip(t,"WeakMap"),nr=ip(eE,"create"),ni=nn&&new nn,ns={},no=iV(t7),na=iV(t9),nl=iV(ne),nu=iV(nt),nc=iV(nn),nh=eF?eF.prototype:n,nf=nh?nh.valueOf:n,nd=nh?nh.toString:n;function np(e){if(sG(e)&&!sU(e)&&!(e instanceof n_)){if(e instanceof nv)return e;if(eN.call(e,"__wrapped__"))return iF(e)}return new nv(e)}var ng=function(){function e(){}return function(t){if(!sK(t))return{};if(eq)return eq(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function nm(){}function nv(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function n_(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=0xffffffff,this.__views__=[]}function ny(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nb(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nw(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nI(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new nw;++t<n;)this.add(e[t])}function nE(e){var t=this.__data__=new nb(e);this.size=t.size}function nC(e,t){var n=sU(e),r=!n&&sM(e),i=!n&&!r&&sz(e),s=!n&&!r&&!i&&s2(e),o=n||r||i||s,a=o?tR(e.length,eT):[],l=a.length;for(var u in e)(t||eN.call(e,u))&&!(o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||iw(u,l)))&&a.push(u);return a}function nT(e){var t=e.length;return t?e[ru(0,t-1)]:n}np.templateSettings={escape:H,evaluate:$,interpolate:q,variable:"",imports:{_:np}},np.prototype=nm.prototype,np.prototype.constructor=np,nv.prototype=ng(nm.prototype),nv.prototype.constructor=nv,n_.prototype=ng(nm.prototype),n_.prototype.constructor=n_,ny.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},ny.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=!!t,t},ny.prototype.get=function(e){var t=this.__data__;if(nr){var r=t[e];return r===i?n:r}return eN.call(t,e)?t[e]:n},ny.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==n:eN.call(t,e)},ny.prototype.set=function(e,t){var r=this.__data__;return this.size+=+!this.has(e),r[e]=nr&&t===n?i:t,this},nb.prototype.clear=function(){this.__data__=[],this.size=0},nb.prototype.delete=function(e){var t=this.__data__,n=nA(t,e);return!(n<0)&&(n==t.length-1?t.pop():e0.call(t,n,1),--this.size,!0)},nb.prototype.get=function(e){var t=this.__data__,r=nA(t,e);return r<0?n:t[r][1]},nb.prototype.has=function(e){return nA(this.__data__,e)>-1},nb.prototype.set=function(e,t){var n=this.__data__,r=nA(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},nw.prototype.clear=function(){this.size=0,this.__data__={hash:new ny,map:new(t9||nb),string:new ny}},nw.prototype.delete=function(e){var t=ih(this,e).delete(e);return this.size-=!!t,t},nw.prototype.get=function(e){return ih(this,e).get(e)},nw.prototype.has=function(e){return ih(this,e).has(e)},nw.prototype.set=function(e,t){var n=ih(this,e),r=n.size;return n.set(e,t),this.size+=+(n.size!=r),this},nI.prototype.add=nI.prototype.push=function(e){return this.__data__.set(e,i),this},nI.prototype.has=function(e){return this.__data__.has(e)};function nS(e,t,r){(r===n||sL(e[t],r))&&(r!==n||t in e)||nP(e,t,r)}function nk(e,t,r){var i=e[t];eN.call(e,t)&&sL(i,r)&&(r!==n||t in e)||nP(e,t,r)}function nA(e,t){for(var n=e.length;n--;)if(sL(e[n][0],t))return n;return -1}function nO(e,t,n,r){return nj(e,function(e,i,s){t(r,e,n(e),s)}),r}function nR(e,t){return e&&rz(t,op(t),e)}function nP(e,t,n){"__proto__"==t&&e8?e8(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function nN(e,t){for(var r=-1,i=t.length,s=e_(i),o=null==e;++r<i;)s[r]=o?n:ou(e,t[r]);return s}function nL(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function nD(e,t,r,i,s,o){var a,l=1&t,u=2&t,h=4&t;if(r&&(a=s?r(e,i,s,o):r(e)),a!==n)return a;if(!sK(e))return e;var p=sU(e);if(p){if(T=(b=e).length,U=new b.constructor(T),T&&"string"==typeof b[0]&&eN.call(b,"index")&&(U.index=b.index,U.input=b.input),a=U,!l)return rF(e,a)}else{var b,T,U,j,V,F,z,B,W=iv(e),H=W==g||W==m;if(sz(e))return rD(e,l);if(W==y||W==c||H&&!s){if(a=u||H?{}:iy(e),!l){return u?(j=e,V=(B=a)&&rz(e,og(e),B),rz(j,im(j),V)):(F=e,z=nR(a,e),rz(F,ig(F),z))}}else{if(!eQ[W])return s?e:{};a=function(e,t,n){var r,i,s=e.constructor;switch(t){case S:return rx(e);case f:case d:return new s(+e);case k:return r=n?rx(e.buffer):e.buffer,new e.constructor(r,e.byteOffset,e.byteLength);case A:case O:case R:case P:case N:case L:case D:case x:case M:return rM(e,n);case v:return new s;case _:case E:return new s(e);case w:return(i=new e.constructor(e.source,ea.exec(e))).lastIndex=e.lastIndex,i;case I:return new s;case C:return nf?eE(nf.call(e)):{}}}(e,W,l)}}o||(o=new nE);var $=o.get(e);if($)return $;o.set(e,a),sQ(e)?e.forEach(function(n){a.add(nD(n,t,r,n,e,o))}):sJ(e)&&e.forEach(function(n,i){a.set(i,nD(n,t,r,i,e,o))});var q=h?u?io:is:u?og:op,K=p?n:q(e);return tu(K||e,function(n,i){K&&(n=e[i=n]),nk(a,i,nD(n,t,r,i,e,o))}),a}function nx(e,t,r){var i=r.length;if(null==e)return!i;for(e=eE(e);i--;){var s=r[i],o=t[s],a=e[s];if(a===n&&!(s in e)||!o(a))return!1}return!0}function nM(e,t,i){if("function"!=typeof e)throw new eS(r);return iN(function(){e.apply(n,i)},t)}function nU(e,t,n,r){var i=-1,s=tf,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=tp(t,tN(n))),r?(s=td,o=!1):t.length>=200&&(s=tD,o=!1,t=new nI(t));e:for(;++i<a;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h==h){for(var f=u;f--;)if(t[f]===h)continue e;l.push(c)}else s(t,h,r)||l.push(c)}return l}nE.prototype.clear=function(){this.__data__=new nb,this.size=0},nE.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},nE.prototype.get=function(e){return this.__data__.get(e)},nE.prototype.has=function(e){return this.__data__.has(e)},nE.prototype.set=function(e,t){var n=this.__data__;if(n instanceof nb){var r=n.__data__;if(!t9||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new nw(r)}return n.set(e,t),this.size=n.size,this};var nj=rH(nq),nV=rH(nK,!0);function nF(e,t){var n=!0;return nj(e,function(e,r,i){return n=!!t(e,r,i)}),n}function nz(e,t,r){for(var i=-1,s=e.length;++i<s;){var o=e[i],a=t(o);if(null!=a&&(l===n?a==a&&!s1(a):r(a,l)))var l=a,u=o}return u}function nB(e,t){var n=[];return nj(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function nW(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=ib),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?nW(a,t-1,n,r,i):tg(i,a):r||(i[i.length]=a)}return i}var nH=r$(),n$=r$(!0);function nq(e,t){return e&&nH(e,t,op)}function nK(e,t){return e&&n$(e,t,op)}function nG(e,t){return th(t,function(t){return sH(e[t])})}function nJ(e,t){t=rP(t,e);for(var r=0,i=t.length;null!=e&&r<i;)e=e[ij(t[r++])];return r&&r==i?e:n}function nY(e,t,n){var r=t(e);return sU(e)?r:tg(r,n(e))}function nZ(e){var t;return null==e?e===n?"[object Undefined]":"[object Null]":e5&&e5 in eE(e)?function(e){var t=eN.call(e,e5),r=e[e5];try{e[e5]=n;var i=!0}catch(e){}var s=ex.call(e);return i&&(t?e[e5]=r:delete e[e5]),s}(e):(t=e,ex.call(t))}function nX(e,t){return e>t}function nQ(e,t){return null!=e&&eN.call(e,t)}function n0(e,t){return null!=e&&t in eE(e)}function n1(e,t,r){for(var i=r?td:tf,s=e[0].length,o=e.length,a=o,l=e_(o),u=1/0,c=[];a--;){var h=e[a];a&&t&&(h=tp(h,tN(t))),u=t3(h.length,u),l[a]=!r&&(t||s>=120&&h.length>=120)?new nI(a&&h):n}h=e[0];var f=-1,d=l[0];e:for(;++f<s&&c.length<u;){var p=h[f],g=t?t(p):p;if(p=r||0!==p?p:0,!(d?tD(d,g):i(c,g,r))){for(a=o;--a;){var m=l[a];if(!(m?tD(m,g):i(e[a],g,r)))continue e}d&&d.push(g),c.push(p)}}return c}function n2(e,t,r){t=rP(t,e);var i=null==(e=iO(e,t))?e:e[ij(iZ(t))];return null==i?n:ta(i,e,r)}function n3(e){return sG(e)&&nZ(e)==c}function n6(e,t,r,i,s){return e===t||(null!=e&&null!=t&&(sG(e)||sG(t))?function(e,t,r,i,s,o){var a=sU(e),l=sU(t),u=a?h:iv(e),g=l?h:iv(t);u=u==c?y:u,g=g==c?y:g;var m=u==y,b=g==y,T=u==g;if(T&&sz(e)){if(!sz(t))return!1;a=!0,m=!1}if(T&&!m)return o||(o=new nE),a||s2(e)?ir(e,t,r,i,s,o):function(e,t,n,r,i,s,o){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case S:if(e.byteLength!=t.byteLength||!s(new ez(e),new ez(t)))break;return!0;case f:case d:case _:return sL(+e,+t);case p:return e.name==t.name&&e.message==t.message;case w:case E:return e==t+"";case v:var a=tz;case I:var l=1&r;if(a||(a=tH),e.size!=t.size&&!l)break;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=ir(a(e),a(t),r,i,s,o);return o.delete(e),c;case C:if(nf)return nf.call(e)==nf.call(t)}return!1}(e,t,u,r,i,s,o);if(!(1&r)){var A=m&&eN.call(e,"__wrapped__"),O=b&&eN.call(t,"__wrapped__");if(A||O){var R=A?e.value():e,P=O?t.value():t;return o||(o=new nE),s(R,P,r,i,o)}}return!!T&&(o||(o=new nE),function(e,t,r,i,s,o){var a=1&r,l=is(e),u=l.length;if(u!=is(t).length&&!a)return!1;for(var c=u;c--;){var h=l[c];if(!(a?h in t:eN.call(t,h)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);for(var g=a;++c<u;){var m=e[h=l[c]],v=t[h];if(i)var _=a?i(v,m,h,t,e,o):i(m,v,h,e,t,o);if(!(_===n?m===v||s(m,v,r,i,o):_)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,i,s,o))}(e,t,r,i,n6,s):e!=e&&t!=t)}function n4(e,t,r,i){var s=r.length,o=s,a=!i;if(null==e)return!o;for(e=eE(e);s--;){var l=r[s];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<o;){var u=(l=r[s])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===n&&!(u in e))return!1}else{var f=new nE;if(i)var d=i(c,h,u,e,t,f);if(!(d===n?n6(h,c,3,i,f):d))return!1}}return!0}function n5(e){var t;return!(!sK(e)||(t=e,eD&&eD in t))&&(sH(e)?ej:ec).test(iV(e))}function n8(e){return"function"==typeof e?e:null==e?oF:"object"==typeof e?sU(e)?rn(e[0],e[1]):rt(e):oJ(e)}function n7(e){if(!iS(e))return t1(e);var t=[];for(var n in eE(e))eN.call(e,n)&&"constructor"!=n&&t.push(n);return t}function n9(e,t){return e<t}function re(e,t){var n=-1,r=sV(e)?e_(e.length):[];return nj(e,function(e,i,s){r[++n]=t(e,i,s)}),r}function rt(e){var t=id(e);return 1==t.length&&t[0][2]?ik(t[0][0],t[0][1]):function(n){return n===e||n4(n,e,t)}}function rn(e,t){var r;return iE(e)&&(r=t)==r&&!sK(r)?ik(ij(e),t):function(r){var i=ou(r,e);return i===n&&i===t?oc(r,e):n6(t,i,3)}}function rr(e,t,r,i,s){e!==t&&nH(t,function(o,a){if(s||(s=new nE),sK(o))!function(e,t,r,i,s,o,a){var l=iR(e,r),u=iR(t,r),c=a.get(u);if(c)return nS(e,r,c);var h=o?o(l,u,r+"",e,t,a):n,f=h===n;if(f){var d=sU(u),p=!d&&sz(u),g=!d&&!p&&s2(u);h=u,d||p||g?sU(l)?h=l:sF(l)?h=rF(l):p?(f=!1,h=rD(u,!0)):g?(f=!1,h=rM(u,!0)):h=[]:sZ(u)||sM(u)?(h=l,sM(l)?h=oe(l):(!sK(l)||sH(l))&&(h=iy(u))):f=!1}f&&(a.set(u,h),s(h,u,i,o,a),a.delete(u)),nS(e,r,h)}(e,t,a,r,rr,i,s);else{var l=i?i(iR(e,a),o,a+"",e,t,s):n;l===n&&(l=o),nS(e,a,l)}},og)}function ri(e,t){var r=e.length;if(r)return iw(t+=t<0?r:0,r)?e[t]:n}function rs(e,t,n){t=t.length?tp(t,function(e){return sU(e)?function(t){return nJ(t,1===e.length?e[0]:e)}:e}):[oF];var r=-1;t=tp(t,tN(ic()));var i=re(e,function(e,n,i){return{criteria:tp(t,function(t){return t(e)}),index:++r,value:e}}),s=i.length;for(i.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var l=rU(i[r],s[r]);if(l){if(r>=a)return l;return l*("desc"==n[r]?-1:1)}}return e.index-t.index}(e,t,n)});s--;)i[s]=i[s].value;return i}function ro(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=nJ(e,o);n(a,o)&&rf(s,rP(o,e),a)}return s}function ra(e,t,n,r){var i=r?tE:tI,s=-1,o=t.length,a=e;for(e===t&&(t=rF(t)),n&&(a=tp(e,tN(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&e0.call(a,l,1),e0.call(e,l,1);return e}function rl(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;iw(i)?e0.call(e,i,1):rE(e,i)}}return e}function ru(e,t){return e+tY(t5()*(t-e+1))}function rc(e,t){var n="";if(!e||t<1||t>0x1fffffffffffff)return n;do t%2&&(n+=e),(t=tY(t/2))&&(e+=e);while(t)return n}function rh(e,t){return iL(iA(e,t,oF),e+"")}function rf(e,t,r,i){if(!sK(e))return e;t=rP(t,e);for(var s=-1,o=t.length,a=o-1,l=e;null!=l&&++s<o;){var u=ij(t[s]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)break;if(s!=a){var h=l[u];(c=i?i(h,u,l):n)===n&&(c=sK(h)?h:iw(t[s+1])?[]:{})}nk(l,u,c),l=l[u]}return e}var rd=ni?function(e,t){return ni.set(e,t),e}:oF,rp=e8?function(e,t){return e8(e,"toString",{configurable:!0,enumerable:!1,value:oU(t),writable:!0})}:oF;function rg(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=e_(i);++r<i;)s[r]=e[r+t];return s}function rm(e,t){var n;return nj(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function rv(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=0x7fffffff){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!s1(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return r_(e,t,oF,n)}function r_(e,t,r,i){var s=0,o=null==e?0:e.length;if(0===o)return 0;for(var a=(t=r(t))!=t,l=null===t,u=s1(t),c=t===n;s<o;){var h=tY((s+o)/2),f=r(e[h]),d=f!==n,p=null===f,g=f==f,m=s1(f);if(a)var v=i||g;else v=c?g&&(i||d):l?g&&d&&(i||!p):u?g&&d&&!p&&(i||!m):!p&&!m&&(i?f<=t:f<t);v?s=h+1:o=h}return t3(o,0xfffffffe)}function ry(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!sL(a,l)){var l=a;s[i++]=0===o?0:o}}return s}function rb(e){return"number"==typeof e?e:s1(e)?l:+e}function rw(e){if("string"==typeof e)return e;if(sU(e))return tp(e,rw)+"";if(s1(e))return nd?nd.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}function rI(e,t,n){var r=-1,i=tf,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=td;else if(s>=200){var u=t?null:r5(e);if(u)return tH(u);o=!1,i=tD,l=new nI}else l=t?[]:a;e:for(;++r<s;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h==h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),a.push(c)}else i(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function rE(e,t){return t=rP(t,e),null==(e=iO(e,t))||delete e[ij(iZ(t))]}function rC(e,t,n,r){return rf(e,t,n(nJ(e,t)),r)}function rT(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?rg(e,r?0:s,r?s+1:i):rg(e,r?s+1:0,r?i:s)}function rS(e,t){var n=e;return n instanceof n_&&(n=n.value()),tm(t,function(e,t){return t.func.apply(t.thisArg,tg([e],t.args))},n)}function rk(e,t,n){var r=e.length;if(r<2)return r?rI(e[0]):[];for(var i=-1,s=e_(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(s[i]=nU(s[i]||o,e[a],t,n));return rI(nW(s,1),t,n)}function rA(e,t,r){for(var i=-1,s=e.length,o=t.length,a={};++i<s;){var l=i<o?t[i]:n;r(a,e[i],l)}return a}function rO(e){return sF(e)?e:[]}function rR(e){return"function"==typeof e?e:oF}function rP(e,t){return sU(e)?e:iE(e,t)?[e]:iU(ot(e))}function rN(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:rg(e,t,r)}var rL=e9||function(e){return e4.clearTimeout(e)};function rD(e,t){if(t)return e.slice();var n=e.length,r=eB?eB(n):new e.constructor(n);return e.copy(r),r}function rx(e){var t=new e.constructor(e.byteLength);return new ez(t).set(new ez(e)),t}function rM(e,t){var n=t?rx(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function rU(e,t){if(e!==t){var r=e!==n,i=null===e,s=e==e,o=s1(e),a=t!==n,l=null===t,u=t==t,c=s1(t);if(!l&&!c&&!o&&e>t||o&&a&&u&&!l&&!c||i&&a&&u||!r&&u||!s)return 1;if(!i&&!o&&!c&&e<t||c&&r&&s&&!i&&!o||l&&r&&s||!a&&s||!u)return -1}return 0}function rj(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,l=t.length,u=t2(s-o,0),c=e_(l+u),h=!r;++a<l;)c[a]=t[a];for(;++i<o;)(h||i<s)&&(c[n[i]]=e[i]);for(;u--;)c[a++]=e[i++];return c}function rV(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,l=-1,u=t.length,c=t2(s-a,0),h=e_(c+u),f=!r;++i<c;)h[i]=e[i];for(var d=i;++l<u;)h[d+l]=t[l];for(;++o<a;)(f||i<s)&&(h[d+n[o]]=e[i++]);return h}function rF(e,t){var n=-1,r=e.length;for(t||(t=e_(r));++n<r;)t[n]=e[n];return t}function rz(e,t,r,i){var s=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var l=t[o],u=i?i(r[l],e[l],l,r,e):n;u===n&&(u=e[l]),s?nP(r,l,u):nk(r,l,u)}return r}function rB(e,t){return function(n,r){var i=sU(n)?tl:nO,s=t?t():{};return i(n,e,ic(r,2),s)}}function rW(e){return rh(function(t,r){var i=-1,s=r.length,o=s>1?r[s-1]:n,a=s>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(s--,o):n,a&&iI(r[0],r[1],a)&&(o=s<3?n:o,s=1),t=eE(t);++i<s;){var l=r[i];l&&e(t,l,i,o)}return t})}function rH(e,t){return function(n,r){if(null==n)return n;if(!sV(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=eE(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function r$(e){return function(t,n,r){for(var i=-1,s=eE(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}function rq(e){return function(t){var r=tF(t=ot(t))?tq(t):n,i=r?r[0]:t.charAt(0),s=r?rN(r,1).join(""):t.slice(1);return i[e]()+s}}function rK(e){return function(t){return tm(oD(oS(t).replace(eH,"")),e,"")}}function rG(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ng(e.prototype),r=e.apply(n,t);return sK(r)?r:n}}function rJ(e){return function(t,r,i){var s=eE(t);if(!sV(t)){var o=ic(r,3);t=op(t),r=function(e){return o(s[e],e,s)}}var a=e(t,r,i);return a>-1?s[o?t[a]:a]:n}}function rY(e){return ii(function(t){var i=t.length,s=i,o=nv.prototype.thru;for(e&&t.reverse();s--;){var a=t[s];if("function"!=typeof a)throw new eS(r);if(o&&!l&&"wrapper"==il(a))var l=new nv([],!0)}for(s=l?s:i;++s<i;){var u=il(a=t[s]),c="wrapper"==u?ia(a):n;l=c&&iC(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[il(c[0])].apply(l,c[3]):1==a.length&&iC(a)?l[u]():l.thru(a)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&sU(n))return l.plant(n).value();for(var r=0,s=i?t[r].apply(this,e):n;++r<i;)s=t[r].call(this,s);return s}})}function rZ(e,t,r,i,s,o,a,l,u,c){var h=128&t,f=1&t,d=2&t,p=24&t,g=512&t,m=d?n:rG(e);function v(){for(var _=arguments.length,y=e_(_),b=_;b--;)y[b]=arguments[b];if(p)var w=iu(v),I=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,w);if(i&&(y=rj(y,i,s,p)),o&&(y=rV(y,o,a,p)),_-=I,p&&_<c){var E=tW(y,w);return r6(e,t,rZ,v.placeholder,r,y,E,l,u,c-_)}var C=f?r:this,T=d?C[e]:e;return _=y.length,l?y=function(e,t){for(var r=e.length,i=t3(t.length,r),s=rF(e);i--;){var o=t[i];e[i]=iw(o,r)?s[o]:n}return e}(y,l):g&&_>1&&y.reverse(),h&&u<_&&(y.length=u),this&&this!==e4&&this instanceof v&&(T=m||rG(T)),T.apply(C,y)}return v}function rX(e,t){return function(n,r){var i,s;return i=t(r),s={},nq(n,function(t,n,r){e(s,i(t),n,r)}),s}}function rQ(e,t){return function(r,i){var s;if(r===n&&i===n)return t;if(r!==n&&(s=r),i!==n){if(s===n)return i;"string"==typeof r||"string"==typeof i?(r=rw(r),i=rw(i)):(r=rb(r),i=rb(i)),s=e(r,i)}return s}}function r0(e){return ii(function(t){return t=tp(t,tN(ic())),rh(function(n){var r=this;return e(t,function(e){return ta(e,r,n)})})})}function r1(e,t){var r=(t=t===n?" ":rw(t)).length;if(r<2)return r?rc(t,e):t;var i=rc(t,tk(e/t$(t)));return tF(t)?rN(tq(i),0,e).join(""):i.slice(0,e)}function r2(e){return function(t,r,i){i&&"number"!=typeof i&&iI(t,r,i)&&(r=i=n),t=s5(t),r===n?(r=t,t=0):r=s5(r),i=i===n?t<r?1:-1:s5(i);for(var s=t,o=r,a=i,l=-1,u=t2(tk((o-s)/(a||1)),0),c=e_(u);u--;)c[e?u:++l]=s,s+=a;return c}}function r3(e){return function(t,n){return("string"!=typeof t||"string"!=typeof n)&&(t=s9(t),n=s9(n)),e(t,n)}}function r6(e,t,r,i,s,o,a,l,u,c){var h=8&t,f=h?a:n,d=h?n:a,p=h?o:n,g=h?n:o;t|=h?32:64,4&(t&=~(h?64:32))||(t&=-4);var m=[e,t,s,p,f,g,d,l,u,c],v=r.apply(n,m);return iC(e)&&iP(v,m),v.placeholder=i,iD(v,e,t)}function r4(e){var t=eI[e];return function(e,n){if(e=s9(e),(n=null==n?0:t3(s8(n),292))&&tQ(e)){var r=(ot(e)+"e").split("e");return+((r=(ot(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(r[1]-n))}return t(e)}}var r5=nt&&1/tH(new nt([,-0]))[1]==a?function(e){return new nt(e)}:o$;function r8(e){return function(t){var n,r,i=iv(t);return i==v?tz(t):i==I?(n=-1,r=Array(t.size),t.forEach(function(e){r[++n]=[e,e]}),r):tp(e(t),function(e){return[e,t[e]]})}}function r7(e,t,i,o,a,l,u,c){var h=2&t;if(!h&&"function"!=typeof e)throw new eS(r);var f=o?o.length:0;if(f||(t&=-97,o=a=n),u=u===n?u:t2(s8(u),0),c=c===n?c:s8(c),f-=a?a.length:0,64&t){var d=o,p=a;o=a=n}var g=h?n:ia(e),m=[e,t,i,o,a,d,p,l,u,c];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(o||a){1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?rj(u,l,t[4]):l,e[4]=u?tW(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?rV(u,l,t[6]):l,e[6]=u?tW(e[5],s):t[6]),(l=t[7])&&(e[7]=l),128&r&&(e[8]=null==e[8]?t[8]:t3(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(m,g),e=m[0],t=m[1],i=m[2],o=m[3],a=m[4],(c=m[9]=m[9]===n?h?0:e.length:t2(m[9]-f,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?A=function(e,t,r){var i=rG(e);function s(){for(var o=arguments.length,a=e_(o),l=o,u=iu(s);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:tW(a,u);return(o-=c.length)<r?r6(e,t,rZ,s.placeholder,n,a,c,n,n,r-o):ta(this&&this!==e4&&this instanceof s?i:e,this,a)}return s}(e,t,c):32!=t&&33!=t||a.length?A=rZ.apply(n,m):(v=e,_=t,y=i,b=o,w=1&_,I=rG(v),A=function e(){for(var t=-1,n=arguments.length,r=-1,i=b.length,s=e_(i+n),o=this&&this!==e4&&this instanceof e?I:v;++r<i;)s[r]=b[r];for(;n--;)s[r++]=arguments[++t];return ta(o,w?y:this,s)});else var v,_,y,b,w,I,E,C,T,S,k,A=(E=e,C=t,T=i,S=1&C,k=rG(E),function e(){return(this&&this!==e4&&this instanceof e?k:E).apply(S?T:this,arguments)});return iD((g?rd:iP)(A,m),e,t)}function r9(e,t,r,i){return e===n||sL(e,eO[r])&&!eN.call(i,r)?t:e}function ie(e,t,r,i,s,o){return sK(e)&&sK(t)&&(o.set(t,e),rr(e,t,n,ie,o),o.delete(t)),e}function it(e){return sZ(e)?n:e}function ir(e,t,r,i,s,o){var a=1&r,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var f=-1,d=!0,p=2&r?new nI:n;for(o.set(e,t),o.set(t,e);++f<l;){var g=e[f],m=t[f];if(i)var v=a?i(m,g,f,t,e,o):i(g,m,f,e,t,o);if(v!==n){if(v)continue;d=!1;break}if(p){if(!t_(t,function(e,t){if(!tD(p,t)&&(g===e||s(g,e,r,i,o)))return p.push(t)})){d=!1;break}}else if(!(g===m||s(g,m,r,i,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function ii(e){return iL(iA(e,n,iq),e+"")}function is(e){return nY(e,op,ig)}function io(e){return nY(e,og,im)}var ia=ni?function(e){return ni.get(e)}:o$;function il(e){for(var t=e.name+"",n=ns[t],r=eN.call(ns,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function iu(e){return(eN.call(np,"placeholder")?np:e).placeholder}function ic(){var e=np.iteratee||oz;return e=e===oz?n8:e,arguments.length?e(arguments[0],arguments[1]):e}function ih(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function id(e){for(var t=op(e),n=t.length;n--;){var r,i=t[n],s=e[i];t[n]=[i,s,(r=s)==r&&!sK(r)]}return t}function ip(e,t){var r=null==e?n:e[t];return n5(r)?r:n}var ig=tZ?function(e){return null==e?[]:th(tZ(e=eE(e)),function(t){return eG.call(e,t)})}:oX,im=tZ?function(e){for(var t=[];e;)tg(t,ig(e)),e=eW(e);return t}:oX,iv=nZ;function i_(e,t,n){t=rP(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=ij(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&sq(i)&&iw(o,i)&&(sU(e)||sM(e))}function iy(e){return"function"!=typeof e.constructor||iS(e)?{}:ng(eW(e))}function ib(e){return sU(e)||sM(e)||!!(e3&&e&&e[e3])}function iw(e,t){var n=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==n||"symbol"!=n&&ef.test(e))&&e>-1&&e%1==0&&e<t}function iI(e,t,n){if(!sK(n))return!1;var r=typeof t;return("number"==r?!!(sV(n)&&iw(t,n.length)):"string"==r&&t in n)&&sL(n[t],e)}function iE(e,t){if(sU(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||s1(e))||G.test(e)||!K.test(e)||null!=t&&e in eE(t)}function iC(e){var t=il(e),n=np[t];if("function"!=typeof n||!(t in n_.prototype))return!1;if(e===n)return!0;var r=ia(n);return!!r&&e===r[0]}(t7&&iv(new t7(new ArrayBuffer(1)))!=k||t9&&iv(new t9)!=v||ne&&iv(ne.resolve())!=b||nt&&iv(new nt)!=I||nn&&iv(new nn)!=T)&&(iv=function(e){var t=nZ(e),r=t==y?e.constructor:n,i=r?iV(r):"";if(i)switch(i){case no:return k;case na:return v;case nl:return b;case nu:return I;case nc:return T}return t});var iT=eR?sH:oQ;function iS(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eO)}function ik(e,t){return function(r){return null!=r&&r[e]===t&&(t!==n||e in eE(r))}}function iA(e,t,r){return t=t2(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=t2(n.length-t,0),o=e_(s);++i<s;)o[i]=n[t+i];i=-1;for(var a=e_(t+1);++i<t;)a[i]=n[i];return a[t]=r(o),ta(e,this,a)}}function iO(e,t){return t.length<2?e:nJ(e,rg(t,0,-1))}function iR(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var iP=ix(rd),iN=ty||function(e,t){return e4.setTimeout(e,t)},iL=ix(rp);function iD(e,t,n){var r,i,s,o=t+"";return iL(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ee,"{\n/* [wrapped with "+t+"] */\n")}(o,(r=(s=o.match(et))?s[1].split(en):[],i=n,tu(u,function(e){var t="_."+e[0];i&e[1]&&!tf(r,t)&&r.push(t)}),r.sort())))}function ix(e){var t=0,r=0;return function(){var i=t6(),s=16-(i-r);if(r=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function iM(e,t){var r=-1,i=e.length,s=i-1;for(t=t===n?i:t;++r<t;){var o=ru(r,s),a=e[o];e[o]=e[r],e[r]=a}return e.length=t,e}var iU=(em=(Q=sk(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(J,function(e,n,r,i){t.push(r?i.replace(es,"$1"):n||e)}),t},function(e){return 500===em.size&&em.clear(),e})).cache,Q);function ij(e){if("string"==typeof e||s1(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function iV(e){if(null!=e){try{return eP.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function iF(e){if(e instanceof n_)return e.clone();var t=new nv(e.__wrapped__,e.__chain__);return t.__actions__=rF(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var iz=rh(function(e,t){return sF(e)?nU(e,nW(t,1,sF,!0)):[]}),iB=rh(function(e,t){var r=iZ(t);return sF(r)&&(r=n),sF(e)?nU(e,nW(t,1,sF,!0),ic(r,2)):[]}),iW=rh(function(e,t){var r=iZ(t);return sF(r)&&(r=n),sF(e)?nU(e,nW(t,1,sF,!0),n,r):[]});function iH(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:s8(n);return i<0&&(i=t2(r+i,0)),tw(e,ic(t,3),i)}function i$(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var s=i-1;return r!==n&&(s=s8(r),s=r<0?t2(i+s,0):t3(s,i-1)),tw(e,ic(t,3),s,!0)}function iq(e){return(null==e?0:e.length)?nW(e,1):[]}function iK(e){return e&&e.length?e[0]:n}var iG=rh(function(e){var t=tp(e,rO);return t.length&&t[0]===e[0]?n1(t):[]}),iJ=rh(function(e){var t=iZ(e),r=tp(e,rO);return t===iZ(r)?t=n:r.pop(),r.length&&r[0]===e[0]?n1(r,ic(t,2)):[]}),iY=rh(function(e){var t=iZ(e),r=tp(e,rO);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?n1(r,n,t):[]});function iZ(e){var t=null==e?0:e.length;return t?e[t-1]:n}var iX=rh(iQ);function iQ(e,t){return e&&e.length&&t&&t.length?ra(e,t):e}var i0=ii(function(e,t){var n=null==e?0:e.length,r=nN(e,t);return rl(e,tp(t,function(e){return iw(e,n)?+e:e}).sort(rU)),r});function i1(e){return null==e?e:t8.call(e)}var i2=rh(function(e){return rI(nW(e,1,sF,!0))}),i3=rh(function(e){var t=iZ(e);return sF(t)&&(t=n),rI(nW(e,1,sF,!0),ic(t,2))}),i6=rh(function(e){var t=iZ(e);return t="function"==typeof t?t:n,rI(nW(e,1,sF,!0),n,t)});function i4(e){if(!(e&&e.length))return[];var t=0;return e=th(e,function(e){if(sF(e))return t=t2(e.length,t),!0}),tR(t,function(t){return tp(e,tS(t))})}function i5(e,t){if(!(e&&e.length))return[];var r=i4(e);return null==t?r:tp(r,function(e){return ta(t,n,e)})}var i8=rh(function(e,t){return sF(e)?nU(e,t):[]}),i7=rh(function(e){return rk(th(e,sF))}),i9=rh(function(e){var t=iZ(e);return sF(t)&&(t=n),rk(th(e,sF),ic(t,2))}),se=rh(function(e){var t=iZ(e);return t="function"==typeof t?t:n,rk(th(e,sF),n,t)}),st=rh(i4),sn=rh(function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,i5(e,r)});function sr(e){var t=np(e);return t.__chain__=!0,t}function si(e,t){return t(e)}var ss=ii(function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,s=function(t){return nN(t,e)};return!(t>1)&&!this.__actions__.length&&i instanceof n_&&iw(r)?((i=i.slice(r,+r+ +!!t)).__actions__.push({func:si,args:[s],thisArg:n}),new nv(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(n),e})):this.thru(s)}),so=rB(function(e,t,n){eN.call(e,n)?++e[n]:nP(e,n,1)}),sa=rJ(iH),sl=rJ(i$);function su(e,t){return(sU(e)?tu:nj)(e,ic(t,3))}function sc(e,t){return(sU(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:nV)(e,ic(t,3))}var sh=rB(function(e,t,n){eN.call(e,n)?e[n].push(t):nP(e,n,[t])}),sf=rh(function(e,t,n){var r=-1,i="function"==typeof t,s=sV(e)?e_(e.length):[];return nj(e,function(e){s[++r]=i?ta(t,e,n):n2(e,t,n)}),s}),sd=rB(function(e,t,n){nP(e,n,t)});function sp(e,t){return(sU(e)?tp:re)(e,ic(t,3))}var sg=rB(function(e,t,n){e[+!n].push(t)},function(){return[[],[]]}),sm=rh(function(e,t){if(null==e)return[];var n=t.length;return n>1&&iI(e,t[0],t[1])?t=[]:n>2&&iI(t[0],t[1],t[2])&&(t=[t[0]]),rs(e,nW(t,1),[])}),sv=te||function(){return e4.Date.now()};function s_(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,r7(e,128,n,n,n,n,t)}function sy(e,t){var i;if("function"!=typeof t)throw new eS(r);return e=s8(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var sb=rh(function(e,t,n){var r=1;if(n.length){var i=tW(n,iu(sb));r|=32}return r7(e,r,t,n,i)}),sw=rh(function(e,t,n){var r=3;if(n.length){var i=tW(n,iu(sw));r|=32}return r7(t,r,e,n,i)});function sI(e,t,r){t=r?n:t;var i=r7(e,8,n,n,n,n,n,t);return i.placeholder=sI.placeholder,i}function sE(e,t,r){t=r?n:t;var i=r7(e,16,n,n,n,n,n,t);return i.placeholder=sE.placeholder,i}function sC(e,t,i){var s,o,a,l,u,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new eS(r);function g(t){var r=s,i=o;return s=o=n,h=t,l=e.apply(i,r)}function m(e){var r=e-c,i=e-h;return c===n||r>=t||r<0||d&&i>=a}function v(){var e,n,r,i=sv();if(m(i))return _(i);u=iN(v,(e=i-c,n=i-h,r=t-e,d?t3(r,a-n):r))}function _(e){return(u=n,p&&s)?g(e):(s=o=n,l)}function y(){var e,r=sv(),i=m(r);if(s=arguments,o=this,c=r,i){if(u===n)return h=e=c,u=iN(v,t),f?g(e):l;if(d)return rL(u),u=iN(v,t),g(c)}return u===n&&(u=iN(v,t)),l}return t=s9(t)||0,sK(i)&&(f=!!i.leading,a=(d="maxWait"in i)?t2(s9(i.maxWait)||0,t):a,p="trailing"in i?!!i.trailing:p),y.cancel=function(){u!==n&&rL(u),h=0,s=c=o=u=n},y.flush=function(){return u===n?l:_(sv())},y}var sT=rh(function(e,t){return nM(e,1,t)}),sS=rh(function(e,t,n){return nM(e,s9(t)||0,n)});function sk(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eS(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(sk.Cache||nw),n}function sA(e){if("function"!=typeof e)throw new eS(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}sk.Cache=nw;var sO=rh(function(e,t){var n=(t=1==t.length&&sU(t[0])?tp(t[0],tN(ic())):tp(nW(t,1),tN(ic()))).length;return rh(function(r){for(var i=-1,s=t3(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return ta(e,this,r)})}),sR=rh(function(e,t){var r=tW(t,iu(sR));return r7(e,32,n,t,r)}),sP=rh(function(e,t){var r=tW(t,iu(sP));return r7(e,64,n,t,r)}),sN=ii(function(e,t){return r7(e,256,n,n,n,t)});function sL(e,t){return e===t||e!=e&&t!=t}var sD=r3(nX),sx=r3(function(e,t){return e>=t}),sM=n3(function(){return arguments}())?n3:function(e){return sG(e)&&eN.call(e,"callee")&&!eG.call(e,"callee")},sU=e_.isArray,sj=tt?tN(tt):function(e){return sG(e)&&nZ(e)==S};function sV(e){return null!=e&&sq(e.length)&&!sH(e)}function sF(e){return sG(e)&&sV(e)}var sz=tX||oQ,sB=tn?tN(tn):function(e){return sG(e)&&nZ(e)==d};function sW(e){if(!sG(e))return!1;var t=nZ(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!sZ(e)}function sH(e){if(!sK(e))return!1;var t=nZ(e);return t==g||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function s$(e){return"number"==typeof e&&e==s8(e)}function sq(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function sK(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function sG(e){return null!=e&&"object"==typeof e}var sJ=tr?tN(tr):function(e){return sG(e)&&iv(e)==v};function sY(e){return"number"==typeof e||sG(e)&&nZ(e)==_}function sZ(e){if(!sG(e)||nZ(e)!=y)return!1;var t=eW(e);if(null===t)return!0;var n=eN.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&eP.call(n)==eM}var sX=ti?tN(ti):function(e){return sG(e)&&nZ(e)==w},sQ=ts?tN(ts):function(e){return sG(e)&&iv(e)==I};function s0(e){return"string"==typeof e||!sU(e)&&sG(e)&&nZ(e)==E}function s1(e){return"symbol"==typeof e||sG(e)&&nZ(e)==C}var s2=to?tN(to):function(e){return sG(e)&&sq(e.length)&&!!eX[nZ(e)]},s3=r3(n9),s6=r3(function(e,t){return e<=t});function s4(e){if(!e)return[];if(sV(e))return s0(e)?tq(e):rF(e);if(e6&&e[e6]){for(var t,n=e[e6](),r=[];!(t=n.next()).done;)r.push(t.value);return r}var i=iv(e);return(i==v?tz:i==I?tH:oE)(e)}function s5(e){return e?(e=s9(e))===a||e===-a?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function s8(e){var t=s5(e),n=t%1;return t==t?n?t-n:t:0}function s7(e){return e?nL(s8(e),0,0xffffffff):0}function s9(e){if("number"==typeof e)return e;if(s1(e))return l;if(sK(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=sK(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tP(e);var n=eu.test(e);return n||eh.test(e)?e2(e.slice(2),n?2:8):el.test(e)?l:+e}function oe(e){return rz(e,og(e))}function ot(e){return null==e?"":rw(e)}var on=rW(function(e,t){if(iS(t)||sV(t))return void rz(t,op(t),e);for(var n in t)eN.call(t,n)&&nk(e,n,t[n])}),or=rW(function(e,t){rz(t,og(t),e)}),oi=rW(function(e,t,n,r){rz(t,og(t),e,r)}),os=rW(function(e,t,n,r){rz(t,op(t),e,r)}),oo=ii(nN),oa=rh(function(e,t){e=eE(e);var r=-1,i=t.length,s=i>2?t[2]:n;for(s&&iI(t[0],t[1],s)&&(i=1);++r<i;)for(var o=t[r],a=og(o),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===n||sL(h,eO[c])&&!eN.call(e,c))&&(e[c]=o[c])}return e}),ol=rh(function(e){return e.push(n,ie),ta(ov,n,e)});function ou(e,t,r){var i=null==e?n:nJ(e,t);return i===n?r:i}function oc(e,t){return null!=e&&i_(e,t,n0)}var oh=rX(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ex.call(t)),e[t]=n},oU(oF)),of=rX(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ex.call(t)),eN.call(e,t)?e[t].push(n):e[t]=[n]},ic),od=rh(n2);function op(e){return sV(e)?nC(e):n7(e)}function og(e){return sV(e)?nC(e,!0):function(e){if(!sK(e)){var t=e,n=[];if(null!=t)for(var r in eE(t))n.push(r);return n}var i=iS(e),s=[];for(var o in e)"constructor"==o&&(i||!eN.call(e,o))||s.push(o);return s}(e)}var om=rW(function(e,t,n){rr(e,t,n)}),ov=rW(function(e,t,n,r){rr(e,t,n,r)}),o_=ii(function(e,t){var n={};if(null==e)return n;var r=!1;t=tp(t,function(t){return t=rP(t,e),r||(r=t.length>1),t}),rz(e,io(e),n),r&&(n=nD(n,7,it));for(var i=t.length;i--;)rE(n,t[i]);return n}),oy=ii(function(e,t){return null==e?{}:ro(e,t,function(t,n){return oc(e,n)})});function ob(e,t){if(null==e)return{};var n=tp(io(e),function(e){return[e]});return t=ic(t),ro(e,n,function(e,n){return t(e,n[0])})}var ow=r8(op),oI=r8(og);function oE(e){return null==e?[]:tL(e,op(e))}var oC=rK(function(e,t,n){return t=t.toLowerCase(),e+(n?oT(t):t)});function oT(e){return oL(ot(e).toLowerCase())}function oS(e){return(e=ot(e))&&e.replace(ed,tU).replace(e$,"")}var ok=rK(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),oA=rK(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),oO=rq("toLowerCase"),oR=rK(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),oP=rK(function(e,t,n){return e+(n?" ":"")+oL(t)}),oN=rK(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),oL=rq("toUpperCase");function oD(e,t,r){if(e=ot(e),(t=r?n:t)===n){var i;return(i=e,eJ.test(i))?e.match(eK)||[]:e.match(er)||[]}return e.match(t)||[]}var ox=rh(function(e,t){try{return ta(e,n,t)}catch(e){return sW(e)?e:new eb(e)}}),oM=ii(function(e,t){return tu(t,function(t){nP(e,t=ij(t),sb(e[t],e))}),e});function oU(e){return function(){return e}}var oj=rY(),oV=rY(!0);function oF(e){return e}function oz(e){return n8("function"==typeof e?e:nD(e,1))}var oB=rh(function(e,t){return function(n){return n2(n,e,t)}}),oW=rh(function(e,t){return function(n){return n2(e,n,t)}});function oH(e,t,n){var r=op(t),i=nG(t,r);null!=n||sK(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=nG(t,op(t)));var s=!(sK(n)&&"chain"in n)||!!n.chain,o=sH(e);return tu(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=rF(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,tg([this.value()],arguments))})}),e}function o$(){}var oq=r0(tp),oK=r0(tc),oG=r0(t_);function oJ(e){return iE(e)?tS(ij(e)):function(t){return nJ(t,e)}}var oY=r2(),oZ=r2(!0);function oX(){return[]}function oQ(){return!1}var o0=rQ(function(e,t){return e+t},0),o1=r4("ceil"),o2=rQ(function(e,t){return e/t},1),o3=r4("floor"),o6=rQ(function(e,t){return e*t},1),o4=r4("round"),o5=rQ(function(e,t){return e-t},0);return np.after=function(e,t){if("function"!=typeof t)throw new eS(r);return e=s8(e),function(){if(--e<1)return t.apply(this,arguments)}},np.ary=s_,np.assign=on,np.assignIn=or,np.assignInWith=oi,np.assignWith=os,np.at=oo,np.before=sy,np.bind=sb,np.bindAll=oM,np.bindKey=sw,np.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return sU(e)?e:[e]},np.chain=sr,np.chunk=function(e,t,r){t=(r?iI(e,t,r):t===n)?1:t2(s8(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,o=0,a=e_(tk(i/t));s<i;)a[o++]=rg(e,s,s+=t);return a},np.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},np.concat=function(){var e=arguments.length;if(!e)return[];for(var t=e_(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return tg(sU(n)?rF(n):[n],nW(t,1))},np.cond=function(e){var t=null==e?0:e.length,n=ic();return e=t?tp(e,function(e){if("function"!=typeof e[1])throw new eS(r);return[n(e[0]),e[1]]}):[],rh(function(n){for(var r=-1;++r<t;){var i=e[r];if(ta(i[0],this,n))return ta(i[1],this,n)}})},np.conforms=function(e){var t,n;return n=op(t=nD(e,1)),function(e){return nx(e,t,n)}},np.constant=oU,np.countBy=so,np.create=function(e,t){var n=ng(e);return null==t?n:nR(n,t)},np.curry=sI,np.curryRight=sE,np.debounce=sC,np.defaults=oa,np.defaultsDeep=ol,np.defer=sT,np.delay=sS,np.difference=iz,np.differenceBy=iB,np.differenceWith=iW,np.drop=function(e,t,r){var i=null==e?0:e.length;return i?rg(e,(t=r||t===n?1:s8(t))<0?0:t,i):[]},np.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?rg(e,0,(t=i-(t=r||t===n?1:s8(t)))<0?0:t):[]},np.dropRightWhile=function(e,t){return e&&e.length?rT(e,ic(t,3),!0,!0):[]},np.dropWhile=function(e,t){return e&&e.length?rT(e,ic(t,3),!0):[]},np.fill=function(e,t,r,i){var s=null==e?0:e.length;if(!s)return[];r&&"number"!=typeof r&&iI(e,t,r)&&(r=0,i=s);var o=r,a=i,l=e.length;for((o=s8(o))<0&&(o=-o>l?0:l+o),(a=a===n||a>l?l:s8(a))<0&&(a+=l),a=o>a?0:s7(a);o<a;)e[o++]=t;return e},np.filter=function(e,t){return(sU(e)?th:nB)(e,ic(t,3))},np.flatMap=function(e,t){return nW(sp(e,t),1)},np.flatMapDeep=function(e,t){return nW(sp(e,t),a)},np.flatMapDepth=function(e,t,r){return r=r===n?1:s8(r),nW(sp(e,t),r)},np.flatten=iq,np.flattenDeep=function(e){return(null==e?0:e.length)?nW(e,a):[]},np.flattenDepth=function(e,t){return(null==e?0:e.length)?nW(e,t=t===n?1:s8(t)):[]},np.flip=function(e){return r7(e,512)},np.flow=oj,np.flowRight=oV,np.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},np.functions=function(e){return null==e?[]:nG(e,op(e))},np.functionsIn=function(e){return null==e?[]:nG(e,og(e))},np.groupBy=sh,np.initial=function(e){return(null==e?0:e.length)?rg(e,0,-1):[]},np.intersection=iG,np.intersectionBy=iJ,np.intersectionWith=iY,np.invert=oh,np.invertBy=of,np.invokeMap=sf,np.iteratee=oz,np.keyBy=sd,np.keys=op,np.keysIn=og,np.map=sp,np.mapKeys=function(e,t){var n={};return t=ic(t,3),nq(e,function(e,r,i){nP(n,t(e,r,i),e)}),n},np.mapValues=function(e,t){var n={};return t=ic(t,3),nq(e,function(e,r,i){nP(n,r,t(e,r,i))}),n},np.matches=function(e){return rt(nD(e,1))},np.matchesProperty=function(e,t){return rn(e,nD(t,1))},np.memoize=sk,np.merge=om,np.mergeWith=ov,np.method=oB,np.methodOf=oW,np.mixin=oH,np.negate=sA,np.nthArg=function(e){return e=s8(e),rh(function(t){return ri(t,e)})},np.omit=o_,np.omitBy=function(e,t){return ob(e,sA(ic(t)))},np.once=function(e){return sy(2,e)},np.orderBy=function(e,t,r,i){return null==e?[]:(sU(t)||(t=null==t?[]:[t]),sU(r=i?n:r)||(r=null==r?[]:[r]),rs(e,t,r))},np.over=oq,np.overArgs=sO,np.overEvery=oK,np.overSome=oG,np.partial=sR,np.partialRight=sP,np.partition=sg,np.pick=oy,np.pickBy=ob,np.property=oJ,np.propertyOf=function(e){return function(t){return null==e?n:nJ(e,t)}},np.pull=iX,np.pullAll=iQ,np.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ra(e,t,ic(n,2)):e},np.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?ra(e,t,n,r):e},np.pullAt=i0,np.range=oY,np.rangeRight=oZ,np.rearg=sN,np.reject=function(e,t){return(sU(e)?th:nB)(e,sA(ic(t,3)))},np.remove=function(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],s=e.length;for(t=ic(t,3);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return rl(e,i),n},np.rest=function(e,t){if("function"!=typeof e)throw new eS(r);return rh(e,t=t===n?t:s8(t))},np.reverse=i1,np.sampleSize=function(e,t,r){return t=(r?iI(e,t,r):t===n)?1:s8(t),(sU(e)?function(e,t){return iM(rF(e),nL(t,0,e.length))}:function(e,t){var n=oE(e);return iM(n,nL(t,0,n.length))})(e,t)},np.set=function(e,t,n){return null==e?e:rf(e,t,n)},np.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:rf(e,t,r,i)},np.shuffle=function(e){return(sU(e)?function(e){return iM(rF(e))}:function(e){return iM(oE(e))})(e)},np.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&iI(e,t,r)?(t=0,r=i):(t=null==t?0:s8(t),r=r===n?i:s8(r)),rg(e,t,r)):[]},np.sortBy=sm,np.sortedUniq=function(e){return e&&e.length?ry(e):[]},np.sortedUniqBy=function(e,t){return e&&e.length?ry(e,ic(t,2)):[]},np.split=function(e,t,r){return(r&&"number"!=typeof r&&iI(e,t,r)&&(t=r=n),r=r===n?0xffffffff:r>>>0)?(e=ot(e))&&("string"==typeof t||null!=t&&!sX(t))&&!(t=rw(t))&&tF(e)?rN(tq(e),0,r):e.split(t,r):[]},np.spread=function(e,t){if("function"!=typeof e)throw new eS(r);return t=null==t?0:t2(s8(t),0),rh(function(n){var r=n[t],i=rN(n,0,t);return r&&tg(i,r),ta(e,this,i)})},np.tail=function(e){var t=null==e?0:e.length;return t?rg(e,1,t):[]},np.take=function(e,t,r){return e&&e.length?rg(e,0,(t=r||t===n?1:s8(t))<0?0:t):[]},np.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?rg(e,(t=i-(t=r||t===n?1:s8(t)))<0?0:t,i):[]},np.takeRightWhile=function(e,t){return e&&e.length?rT(e,ic(t,3),!1,!0):[]},np.takeWhile=function(e,t){return e&&e.length?rT(e,ic(t,3)):[]},np.tap=function(e,t){return t(e),e},np.throttle=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new eS(r);return sK(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),sC(e,t,{leading:i,maxWait:t,trailing:s})},np.thru=si,np.toArray=s4,np.toPairs=ow,np.toPairsIn=oI,np.toPath=function(e){return sU(e)?tp(e,ij):s1(e)?[e]:rF(iU(ot(e)))},np.toPlainObject=oe,np.transform=function(e,t,n){var r=sU(e),i=r||sz(e)||s2(e);if(t=ic(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:sK(e)&&sH(s)?ng(eW(e)):{}}return(i?tu:nq)(e,function(e,r,i){return t(n,e,r,i)}),n},np.unary=function(e){return s_(e,1)},np.union=i2,np.unionBy=i3,np.unionWith=i6,np.uniq=function(e){return e&&e.length?rI(e):[]},np.uniqBy=function(e,t){return e&&e.length?rI(e,ic(t,2)):[]},np.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?rI(e,n,t):[]},np.unset=function(e,t){return null==e||rE(e,t)},np.unzip=i4,np.unzipWith=i5,np.update=function(e,t,n){return null==e?e:rC(e,t,rR(n))},np.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:rC(e,t,rR(r),i)},np.values=oE,np.valuesIn=function(e){return null==e?[]:tL(e,og(e))},np.without=i8,np.words=oD,np.wrap=function(e,t){return sR(rR(t),e)},np.xor=i7,np.xorBy=i9,np.xorWith=se,np.zip=st,np.zipObject=function(e,t){return rA(e||[],t||[],nk)},np.zipObjectDeep=function(e,t){return rA(e||[],t||[],rf)},np.zipWith=sn,np.entries=ow,np.entriesIn=oI,np.extend=or,np.extendWith=oi,oH(np,np),np.add=o0,np.attempt=ox,np.camelCase=oC,np.capitalize=oT,np.ceil=o1,np.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=s9(r))==r?r:0),t!==n&&(t=(t=s9(t))==t?t:0),nL(s9(e),t,r)},np.clone=function(e){return nD(e,4)},np.cloneDeep=function(e){return nD(e,5)},np.cloneDeepWith=function(e,t){return nD(e,5,t="function"==typeof t?t:n)},np.cloneWith=function(e,t){return nD(e,4,t="function"==typeof t?t:n)},np.conformsTo=function(e,t){return null==t||nx(e,t,op(t))},np.deburr=oS,np.defaultTo=function(e,t){return null==e||e!=e?t:e},np.divide=o2,np.endsWith=function(e,t,r){e=ot(e),t=rw(t);var i=e.length,s=r=r===n?i:nL(s8(r),0,i);return(r-=t.length)>=0&&e.slice(r,s)==t},np.eq=sL,np.escape=function(e){return(e=ot(e))&&W.test(e)?e.replace(z,tj):e},np.escapeRegExp=function(e){return(e=ot(e))&&Z.test(e)?e.replace(Y,"\\$&"):e},np.every=function(e,t,r){var i=sU(e)?tc:nF;return r&&iI(e,t,r)&&(t=n),i(e,ic(t,3))},np.find=sa,np.findIndex=iH,np.findKey=function(e,t){return tb(e,ic(t,3),nq)},np.findLast=sl,np.findLastIndex=i$,np.findLastKey=function(e,t){return tb(e,ic(t,3),nK)},np.floor=o3,np.forEach=su,np.forEachRight=sc,np.forIn=function(e,t){return null==e?e:nH(e,ic(t,3),og)},np.forInRight=function(e,t){return null==e?e:n$(e,ic(t,3),og)},np.forOwn=function(e,t){return e&&nq(e,ic(t,3))},np.forOwnRight=function(e,t){return e&&nK(e,ic(t,3))},np.get=ou,np.gt=sD,np.gte=sx,np.has=function(e,t){return null!=e&&i_(e,t,nQ)},np.hasIn=oc,np.head=iK,np.identity=oF,np.includes=function(e,t,n,r){e=sV(e)?e:oE(e),n=n&&!r?s8(n):0;var i=e.length;return n<0&&(n=t2(i+n,0)),s0(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&tI(e,t,n)>-1},np.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=null==n?0:s8(n);return i<0&&(i=t2(r+i,0)),tI(e,t,i)},np.inRange=function(e,t,r){var i,s,o;return t=s5(t),r===n?(r=t,t=0):r=s5(r),(i=e=s9(e))>=t3(s=t,o=r)&&i<t2(s,o)},np.invoke=od,np.isArguments=sM,np.isArray=sU,np.isArrayBuffer=sj,np.isArrayLike=sV,np.isArrayLikeObject=sF,np.isBoolean=function(e){return!0===e||!1===e||sG(e)&&nZ(e)==f},np.isBuffer=sz,np.isDate=sB,np.isElement=function(e){return sG(e)&&1===e.nodeType&&!sZ(e)},np.isEmpty=function(e){if(null==e)return!0;if(sV(e)&&(sU(e)||"string"==typeof e||"function"==typeof e.splice||sz(e)||s2(e)||sM(e)))return!e.length;var t=iv(e);if(t==v||t==I)return!e.size;if(iS(e))return!n7(e).length;for(var n in e)if(eN.call(e,n))return!1;return!0},np.isEqual=function(e,t){return n6(e,t)},np.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?n6(e,t,n,r):!!i},np.isError=sW,np.isFinite=function(e){return"number"==typeof e&&tQ(e)},np.isFunction=sH,np.isInteger=s$,np.isLength=sq,np.isMap=sJ,np.isMatch=function(e,t){return e===t||n4(e,t,id(t))},np.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,n4(e,t,id(t),r)},np.isNaN=function(e){return sY(e)&&e!=+e},np.isNative=function(e){if(iT(e))throw new eb("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return n5(e)},np.isNil=function(e){return null==e},np.isNull=function(e){return null===e},np.isNumber=sY,np.isObject=sK,np.isObjectLike=sG,np.isPlainObject=sZ,np.isRegExp=sX,np.isSafeInteger=function(e){return s$(e)&&e>=-0x1fffffffffffff&&e<=0x1fffffffffffff},np.isSet=sQ,np.isString=s0,np.isSymbol=s1,np.isTypedArray=s2,np.isUndefined=function(e){return e===n},np.isWeakMap=function(e){return sG(e)&&iv(e)==T},np.isWeakSet=function(e){return sG(e)&&"[object WeakSet]"==nZ(e)},np.join=function(e,t){return null==e?"":t0.call(e,t)},np.kebabCase=ok,np.last=iZ,np.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var s=i;return r!==n&&(s=(s=s8(r))<0?t2(i+s,0):t3(s,i-1)),t==t?function(e,t,n){for(var r=n+1;r--&&e[r]!==t;);return r}(e,t,s):tw(e,tC,s,!0)},np.lowerCase=oA,np.lowerFirst=oO,np.lt=s3,np.lte=s6,np.max=function(e){return e&&e.length?nz(e,oF,nX):n},np.maxBy=function(e,t){return e&&e.length?nz(e,ic(t,2),nX):n},np.mean=function(e){return tT(e,oF)},np.meanBy=function(e,t){return tT(e,ic(t,2))},np.min=function(e){return e&&e.length?nz(e,oF,n9):n},np.minBy=function(e,t){return e&&e.length?nz(e,ic(t,2),n9):n},np.stubArray=oX,np.stubFalse=oQ,np.stubObject=function(){return{}},np.stubString=function(){return""},np.stubTrue=function(){return!0},np.multiply=o6,np.nth=function(e,t){return e&&e.length?ri(e,s8(t)):n},np.noConflict=function(){return e4._===this&&(e4._=eU),this},np.noop=o$,np.now=sv,np.pad=function(e,t,n){e=ot(e);var r=(t=s8(t))?t$(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return r1(tY(i),n)+e+r1(tk(i),n)},np.padEnd=function(e,t,n){e=ot(e);var r=(t=s8(t))?t$(e):0;return t&&r<t?e+r1(t-r,n):e},np.padStart=function(e,t,n){e=ot(e);var r=(t=s8(t))?t$(e):0;return t&&r<t?r1(t-r,n)+e:e},np.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t*=1),t4(ot(e).replace(X,""),t||0)},np.random=function(e,t,r){if(r&&"boolean"!=typeof r&&iI(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=s5(e),t===n?(t=e,e=0):t=s5(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var s=t5();return t3(e+s*(t-e+e1("1e-"+((s+"").length-1))),t)}return ru(e,t)},np.reduce=function(e,t,n){var r=sU(e)?tm:tA,i=arguments.length<3;return r(e,ic(t,4),n,i,nj)},np.reduceRight=function(e,t,n){var r=sU(e)?tv:tA,i=arguments.length<3;return r(e,ic(t,4),n,i,nV)},np.repeat=function(e,t,r){return t=(r?iI(e,t,r):t===n)?1:s8(t),rc(ot(e),t)},np.replace=function(){var e=arguments,t=ot(e[0]);return e.length<3?t:t.replace(e[1],e[2])},np.result=function(e,t,r){t=rP(t,e);var i=-1,s=t.length;for(s||(s=1,e=n);++i<s;){var o=null==e?n:e[ij(t[i])];o===n&&(i=s,o=r),e=sH(o)?o.call(e):o}return e},np.round=o4,np.runInContext=e,np.sample=function(e){return(sU(e)?nT:function(e){return nT(oE(e))})(e)},np.size=function(e){if(null==e)return 0;if(sV(e))return s0(e)?t$(e):e.length;var t=iv(e);return t==v||t==I?e.size:n7(e).length},np.snakeCase=oR,np.some=function(e,t,r){var i=sU(e)?t_:rm;return r&&iI(e,t,r)&&(t=n),i(e,ic(t,3))},np.sortedIndex=function(e,t){return rv(e,t)},np.sortedIndexBy=function(e,t,n){return r_(e,t,ic(n,2))},np.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=rv(e,t);if(r<n&&sL(e[r],t))return r}return -1},np.sortedLastIndex=function(e,t){return rv(e,t,!0)},np.sortedLastIndexBy=function(e,t,n){return r_(e,t,ic(n,2),!0)},np.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=rv(e,t,!0)-1;if(sL(e[n],t))return n}return -1},np.startCase=oP,np.startsWith=function(e,t,n){return e=ot(e),n=null==n?0:nL(s8(n),0,e.length),t=rw(t),e.slice(n,n+t.length)==t},np.subtract=o5,np.sum=function(e){return e&&e.length?tO(e,oF):0},np.sumBy=function(e,t){return e&&e.length?tO(e,ic(t,2)):0},np.template=function(e,t,r){var i=np.templateSettings;r&&iI(e,t,r)&&(t=n),e=ot(e),t=oi({},t,i,r9);var s,o,a=oi({},t.imports,i.imports,r9),l=op(a),u=tL(a,l),c=0,h=t.interpolate||ep,f="__p += '",d=eC((t.escape||ep).source+"|"+h.source+"|"+(h===q?eo:ep).source+"|"+(t.evaluate||ep).source+"|$","g"),p="//# sourceURL="+(eN.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eZ+"]")+"\n";e.replace(d,function(t,n,r,i,a,l){return r||(r=i),f+=e.slice(c,l).replace(eg,tV),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),f+="';\n";var g=eN.call(t,"variable")&&t.variable;if(g){if(ei.test(g))throw new eb("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(U,""):f).replace(j,"$1").replace(V,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var m=ox(function(){return ew(l,p+"return "+f).apply(n,u)});if(m.source=f,sW(m))throw m;return m},np.times=function(e,t){if((e=s8(e))<1||e>0x1fffffffffffff)return[];var n=0xffffffff,r=t3(e,0xffffffff);t=ic(t),e-=0xffffffff;for(var i=tR(r,t);++n<e;)t(n);return i},np.toFinite=s5,np.toInteger=s8,np.toLength=s7,np.toLower=function(e){return ot(e).toLowerCase()},np.toNumber=s9,np.toSafeInteger=function(e){return e?nL(s8(e),-0x1fffffffffffff,0x1fffffffffffff):0===e?e:0},np.toString=ot,np.toUpper=function(e){return ot(e).toUpperCase()},np.trim=function(e,t,r){if((e=ot(e))&&(r||t===n))return tP(e);if(!e||!(t=rw(t)))return e;var i=tq(e),s=tq(t),o=tx(i,s),a=tM(i,s)+1;return rN(i,o,a).join("")},np.trimEnd=function(e,t,r){if((e=ot(e))&&(r||t===n))return e.slice(0,tK(e)+1);if(!e||!(t=rw(t)))return e;var i=tq(e),s=tM(i,tq(t))+1;return rN(i,0,s).join("")},np.trimStart=function(e,t,r){if((e=ot(e))&&(r||t===n))return e.replace(X,"");if(!e||!(t=rw(t)))return e;var i=tq(e),s=tx(i,tq(t));return rN(i,s).join("")},np.truncate=function(e,t){var r=30,i="...";if(sK(t)){var s="separator"in t?t.separator:s;r="length"in t?s8(t.length):r,i="omission"in t?rw(t.omission):i}var o=(e=ot(e)).length;if(tF(e)){var a=tq(e);o=a.length}if(r>=o)return e;var l=r-t$(i);if(l<1)return i;var u=a?rN(a,0,l).join(""):e.slice(0,l);if(s===n)return u+i;if(a&&(l+=u.length-l),sX(s)){if(e.slice(l).search(s)){var c,h=u;for(s.global||(s=eC(s.source,ot(ea.exec(s))+"g")),s.lastIndex=0;c=s.exec(h);)var f=c.index;u=u.slice(0,f===n?l:f)}}else if(e.indexOf(rw(s),l)!=l){var d=u.lastIndexOf(s);d>-1&&(u=u.slice(0,d))}return u+i},np.unescape=function(e){return(e=ot(e))&&B.test(e)?e.replace(F,tG):e},np.uniqueId=function(e){var t=++eL;return ot(e)+t},np.upperCase=oN,np.upperFirst=oL,np.each=su,np.eachRight=sc,np.first=iK,oH(np,(ev={},nq(np,function(e,t){eN.call(np.prototype,t)||(ev[t]=e)}),ev),{chain:!1}),np.VERSION="4.17.21",tu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){np[e].placeholder=np}),tu(["drop","take"],function(e,t){n_.prototype[e]=function(r){r=r===n?1:t2(s8(r),0);var i=this.__filtered__&&!t?new n_(this):this.clone();return i.__filtered__?i.__takeCount__=t3(r,i.__takeCount__):i.__views__.push({size:t3(r,0xffffffff),type:e+(i.__dir__<0?"Right":"")}),i},n_.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tu(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;n_.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ic(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),tu(["head","last"],function(e,t){var n="take"+(t?"Right":"");n_.prototype[e]=function(){return this[n](1).value()[0]}}),tu(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");n_.prototype[e]=function(){return this.__filtered__?new n_(this):this[n](1)}}),n_.prototype.compact=function(){return this.filter(oF)},n_.prototype.find=function(e){return this.filter(e).head()},n_.prototype.findLast=function(e){return this.reverse().find(e)},n_.prototype.invokeMap=rh(function(e,t){return"function"==typeof e?new n_(this):this.map(function(n){return n2(n,e,t)})}),n_.prototype.reject=function(e){return this.filter(sA(ic(e)))},n_.prototype.slice=function(e,t){e=s8(e);var r=this;return r.__filtered__&&(e>0||t<0)?new n_(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=s8(t))<0?r.dropRight(-t):r.take(t-e)),r)},n_.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},n_.prototype.toArray=function(){return this.take(0xffffffff)},nq(n_.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=np[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);s&&(np.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,l=t instanceof n_,u=a[0],c=l||sU(t),h=function(e){var t=s.apply(np,tg([e],a));return i&&f?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,g=l&&!d;if(!o&&c){t=g?t:new n_(this);var m=e.apply(t,a);return m.__actions__.push({func:si,args:[h],thisArg:n}),new nv(m,f)}return p&&g?e.apply(this,a):(m=this.thru(h),p?i?m.value()[0]:m.value():m)})}),tu(["pop","push","shift","sort","splice","unshift"],function(e){var t=ek[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);np.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(sU(i)?i:[],e)}return this[n](function(n){return t.apply(sU(n)?n:[],e)})}}),nq(n_.prototype,function(e,t){var n=np[t];if(n){var r=n.name+"";eN.call(ns,r)||(ns[r]=[]),ns[r].push({name:t,func:n})}}),ns[rZ(n,2).name]=[{name:"wrapper",func:n}],n_.prototype.clone=function(){var e=new n_(this.__wrapped__);return e.__actions__=rF(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rF(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rF(this.__views__),e},n_.prototype.reverse=function(){if(this.__filtered__){var e=new n_(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},n_.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=sU(e),r=t<0,i=n?e.length:0,s=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=t3(t,e+o);break;case"takeRight":e=t2(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,u=r?a:o-1,c=this.__iteratees__,h=c.length,f=0,d=t3(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return rS(e,this.__actions__);var p=[];e:for(;l--&&f<d;){for(var g=-1,m=e[u+=t];++g<h;){var v=c[g],_=v.iteratee,y=v.type,b=_(m);if(2==y)m=b;else if(!b)if(1==y)continue e;else break e}p[f++]=m}return p},np.prototype.at=ss,np.prototype.chain=function(){return sr(this)},np.prototype.commit=function(){return new nv(this.value(),this.__chain__)},np.prototype.next=function(){this.__values__===n&&(this.__values__=s4(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}},np.prototype.plant=function(e){for(var t,r=this;r instanceof nm;){var i=iF(r);i.__index__=0,i.__values__=n,t?s.__wrapped__=i:t=i;var s=i;r=r.__wrapped__}return s.__wrapped__=e,t},np.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof n_){var t=e;return this.__actions__.length&&(t=new n_(this)),(t=t.reverse()).__actions__.push({func:si,args:[i1],thisArg:n}),new nv(t,this.__chain__)}return this.thru(i1)},np.prototype.toJSON=np.prototype.valueOf=np.prototype.value=function(){return rS(this.__wrapped__,this.__actions__)},np.prototype.first=np.prototype.head,e6&&(np.prototype[e6]=function(){return this}),np}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e4._=tJ,define(function(){return tJ})):e8?((e8.exports=tJ)._=tJ,e5._=tJ):e4._=tJ}).call(this)});const c=async()=>{try{let e=await fetch("https://681f2acf72e59f922ef56c3a.mockapi.io/codechronicles/posts");return await e.json()}catch(e){return console.error("Error while triing to get the posts:",e),null}},h=async e=>{try{let t=await fetch("https://681f2acf72e59f922ef56c3a.mockapi.io/codechronicles/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}catch(e){return console.error("Помилка при додаванні поста:",e),null}},f=e=>e.map(e=>`
 <li class="blogs__comment">
                  <h4 class="comments__author">${e.commenter}</h4>
                  <p class="comments__text">${e.comment}</p>
                </li>
      `).join(""),d=e=>e.map(e=>`
      <li class="blogs__container">
      <div class="blogs__post">
              <h2 class="blogs__title">${e.title}</h2>
              <h3 class="blogs__author">By <span>${e.account}</span></h3>
              <p class="blogs__text">
               ${e.text}
              </p>
              <div class="blogs__actions">
                <button class="blogs__btn blogs__btn--like">
                  <svg
                    class="blogs__likesvg"
                    viewBox="0 0 32 32"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M29.164 10.472c-1.25-0.328-4.189-0.324-8.488-0.438 0.203-0.938 0.25-1.784 0.25-3.286 0-3.588-2.614-6.748-4.926-6.748-1.633 0-2.979 1.335-3 2.977-0.022 2.014-0.645 5.492-4 7.256-0.246 0.13-0.95 0.477-1.053 0.522l0.053 0.045c-0.525-0.453-1.253-0.8-2-0.8h-3c-1.654 0-3 1.346-3 3v16c0 1.654 1.346 3 3 3h3c1.19 0 2.186-0.719 2.668-1.727 0.012 0.004 0.033 0.010 0.047 0.012 0.066 0.018 0.144 0.037 0.239 0.062 0.018 0.005 0.027 0.007 0.046 0.012 0.576 0.143 1.685 0.408 4.055 0.953 0.508 0.116 3.192 0.688 5.972 0.688h5.467c1.666 0 2.867-0.641 3.582-1.928 0.010-0.020 0.24-0.469 0.428-1.076 0.141-0.457 0.193-1.104 0.023-1.76 1.074-0.738 1.42-1.854 1.645-2.58 0.377-1.191 0.264-2.086 0.002-2.727 0.604-0.57 1.119-1.439 1.336-2.766 0.135-0.822-0.010-1.668-0.389-2.372 0.566-0.636 0.824-1.436 0.854-2.176l0.012-0.209c0.007-0.131 0.013-0.212 0.013-0.5 0-1.263-0.875-2.874-2.836-3.434zM7 29c0 0.553-0.447 1-1 1h-3c-0.553 0-1-0.447-1-1v-16c0-0.553 0.447-1 1-1h3c0.553 0 1 0.447 1 1v16zM29.977 14.535c-0.020 0.494-0.227 1.465-1.977 1.465-1.5 0-2 0-2 0-0.277 0-0.5 0.224-0.5 0.5s0.223 0.5 0.5 0.5c0 0 0.438 0 1.938 0s1.697 1.244 1.6 1.844c-0.124 0.746-0.474 2.156-2.163 2.156-1.687 0-2.375 0-2.375 0-0.277 0-0.5 0.223-0.5 0.5 0 0.275 0.223 0.5 0.5 0.5 0 0 1.188 0 1.969 0 1.688 0 1.539 1.287 1.297 2.055-0.319 1.009-0.514 1.945-2.641 1.945-0.719 0-1.631 0-1.631 0-0.277 0-0.5 0.223-0.5 0.5 0 0.275 0.223 0.5 0.5 0.5 0 0 0.693 0 1.568 0 1.094 0 1.145 1.035 1.031 1.406-0.125 0.406-0.273 0.707-0.279 0.721-0.302 0.545-0.789 0.873-1.82 0.873h-5.467c-2.746 0-5.47-0.623-5.54-0.639-4.154-0.957-4.373-1.031-4.634-1.105 0 0-0.846-0.143-0.846-0.881l-0.007-13.812c0-0.469 0.299-0.893 0.794-1.042 0.062-0.024 0.146-0.050 0.206-0.075 4.568-1.892 5.959-6.040 6-9.446 0.006-0.479 0.375-1 1-1 1.057 0 2.926 2.122 2.926 4.748 0 2.371-0.096 2.781-0.926 5.252 10 0 9.93 0.144 10.812 0.375 1.094 0.313 1.188 1.219 1.188 1.531 0 0.343-0.010 0.293-0.023 0.629zM4.5 26c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5 1.5-0.672 1.5-1.5-0.672-1.5-1.5-1.5zM4.5 28c-0.275 0-0.5-0.225-0.5-0.5s0.225-0.5 0.5-0.5 0.5 0.225 0.5 0.5-0.225 0.5-0.5 0.5z"
                    ></path>
                  </svg>
                  Like <span>${e.numOfLikes}</span>
                </button>
                <button class="blogs__btn blogs__btn--dislike">
                  <svg
                    class="blogs__dislikesvg"
                    viewBox="0 0 32 32"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M29.164 10.472c-1.25-0.328-4.189-0.324-8.488-0.438 0.203-0.938 0.25-1.784 0.25-3.286 0-3.588-2.614-6.748-4.926-6.748-1.633 0-2.979 1.335-3 2.977-0.022 2.014-0.645 5.492-4 7.256-0.246 0.13-0.95 0.477-1.053 0.522l0.053 0.045c-0.525-0.453-1.253-0.8-2-0.8h-3c-1.654 0-3 1.346-3 3v16c0 1.654 1.346 3 3 3h3c1.19 0 2.186-0.719 2.668-1.727 0.012 0.004 0.033 0.010 0.047 0.012 0.066 0.018 0.144 0.037 0.239 0.062 0.018 0.005 0.027 0.007 0.046 0.012 0.576 0.143 1.685 0.408 4.055 0.953 0.508 0.116 3.192 0.688 5.972 0.688h5.467c1.666 0 2.867-0.641 3.582-1.928 0.010-0.020 0.24-0.469 0.428-1.076 0.141-0.457 0.193-1.104 0.023-1.76 1.074-0.738 1.42-1.854 1.645-2.58 0.377-1.191 0.264-2.086 0.002-2.727 0.604-0.57 1.119-1.439 1.336-2.766 0.135-0.822-0.010-1.668-0.389-2.372 0.566-0.636 0.824-1.436 0.854-2.176l0.012-0.209c0.007-0.131 0.013-0.212 0.013-0.5 0-1.263-0.875-2.874-2.836-3.434zM7 29c0 0.553-0.447 1-1 1h-3c-0.553 0-1-0.447-1-1v-16c0-0.553 0.447-1 1-1h3c0.553 0 1 0.447 1 1v16zM29.977 14.535c-0.020 0.494-0.227 1.465-1.977 1.465-1.5 0-2 0-2 0-0.277 0-0.5 0.224-0.5 0.5s0.223 0.5 0.5 0.5c0 0 0.438 0 1.938 0s1.697 1.244 1.6 1.844c-0.124 0.746-0.474 2.156-2.163 2.156-1.687 0-2.375 0-2.375 0-0.277 0-0.5 0.223-0.5 0.5 0 0.275 0.223 0.5 0.5 0.5 0 0 1.188 0 1.969 0 1.688 0 1.539 1.287 1.297 2.055-0.319 1.009-0.514 1.945-2.641 1.945-0.719 0-1.631 0-1.631 0-0.277 0-0.5 0.223-0.5 0.5 0 0.275 0.223 0.5 0.5 0.5 0 0 0.693 0 1.568 0 1.094 0 1.145 1.035 1.031 1.406-0.125 0.406-0.273 0.707-0.279 0.721-0.302 0.545-0.789 0.873-1.82 0.873h-5.467c-2.746 0-5.47-0.623-5.54-0.639-4.154-0.957-4.373-1.031-4.634-1.105 0 0-0.846-0.143-0.846-0.881l-0.007-13.812c0-0.469 0.299-0.893 0.794-1.042 0.062-0.024 0.146-0.050 0.206-0.075 4.568-1.892 5.959-6.040 6-9.446 0.006-0.479 0.375-1 1-1 1.057 0 2.926 2.122 2.926 4.748 0 2.371-0.096 2.781-0.926 5.252 10 0 9.93 0.144 10.812 0.375 1.094 0.313 1.188 1.219 1.188 1.531 0 0.343-0.010 0.293-0.023 0.629zM4.5 26c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5 1.5-0.672 1.5-1.5-0.672-1.5-1.5-1.5zM4.5 28c-0.275 0-0.5-0.225-0.5-0.5s0.225-0.5 0.5-0.5 0.5 0.225 0.5 0.5-0.225 0.5-0.5 0.5z"
                    ></path>
                  </svg>
                  Dislike <span>${e.numOfDislikes}</span>
                </button>
                <button class="blogs__btn blogs__btn--comment">
                    <svg
                      class="blogs__commentsvg"
                      viewBox="0 0 24 24"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M18 8.016v-2.016h-12v2.016h12zM14.016 14.016v-2.016h-8.016v2.016h8.016zM6 9v2.016h12v-2.016h-12zM20.016 2.016q0.797 0 1.383 0.586t0.586 1.383v12q0 0.797-0.586 1.406t-1.383 0.609h-14.016l-3.984 3.984v-18q0-0.797 0.586-1.383t1.383-0.586h16.031z"
                      ></path>
                    </svg>
                    Comments <span>${e.comments.length}</span>
                  </button>
<button class="blogs__btn blogs__btn--delete">
<svg
                      class="blogs__deletesvg"
                     viewBox="0 0 32 32"
                      xmlns="http://www.w3.org/2000/svg"
                    >
<path d="M6 32h20l2-22h-24zM20 4v-4h-8v4h-10v6l2-2h24l2 2v-6h-10zM18 4h-4v-2h4v2z"></path>

                    </svg>
Delete</button>
              </div>
             </div>
              <ul class="blogs__comments">
              ${f(e.comments)}
              </ul>
            </li>
      `).join(""),p=async e=>{try{let t=await fetch(`https://681f2acf72e59f922ef56c3a.mockapi.io/codechronicles/posts/${e}`,{method:"DELETE"});return await t.json()}catch(e){return console.error("Помилка при видаленні поста:",e),null}},g=async(e,t)=>{try{let n=await fetch(`https://681f2acf72e59f922ef56c3a.mockapi.io/codechronicles/posts/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await n.json()}catch(e){return console.error("Помилка при оновленні поста:",e),null}};var m=u("f1q41");const v=document.querySelector(".blogs__posts"),_=document.querySelector(".blogs__add");c().then(e=>{v.innerHTML=d(e)});const y=(0,m.throttle)((e,t)=>{g(e,t)},2e3);v.addEventListener("click",async e=>{if(e.target.classList.contains("blogs__btn--comment")||e.target.parentNode.classList.contains("blogs__btn--comment")||e.target.parentNode.parentNode.classList.contains("blogs__btn--comment")){let t=e.target.closest(".blogs__container");if(t.children[1].classList.toggle("comments--down"),t.firstElementChild.lastElementChild.children[2].classList.toggle("blogs__btn--clicked"),null===t.nextElementSibling){_.classList.toggle("blogs__add__down"),_.classList.contains("blogs__add__down")?_.style.marginTop=`${t.children[1].children.length>=5?450:t.children[1].children.length<=0?30:100*t.children[1].children.length}px`:_.style.marginTop="30px";return}t.nextElementSibling.classList.toggle("post-down"),t.nextElementSibling.classList.contains("post-down")?t.nextElementSibling.style.marginTop=`${t.children[1].children.length>=5?430:80*t.children[1].children.length}px`:(t.nextElementSibling.style.transition="all 0.3s ease",t.nextElementSibling.style.marginTop="0")}else if(e.target.classList.contains("blogs__btn--delete")||e.target.parentNode.classList.contains("blogs__btn--delete")||e.target.parentNode.parentNode.classList.contains("blogs__btn--delete")){let t=Array.from(v.children).indexOf(e.target.closest(".blogs__container"));await p(t+1),await c().then(e=>{v.innerHTML=d(e),document.querySelector(".blogs__btn--comment")})}else if(e.target.classList.contains("blogs__btn--like")||e.target.parentNode.classList.contains("blogs__btn--like")||e.target.parentNode.parentNode.classList.contains("blogs__btn--like")){let t=e.target.closest(".blogs__container");t.firstElementChild.lastElementChild.firstElementChild.classList.toggle("blogs__btn--clicked");let n=Number(t.firstElementChild.lastElementChild.firstElementChild.lastElementChild.textContent);t.firstElementChild.lastElementChild.firstElementChild.classList.contains("blogs__btn--clicked")?t.firstElementChild.lastElementChild.firstElementChild.lastElementChild.textContent=n+1:t.firstElementChild.lastElementChild.firstElementChild.lastElementChild.textContent=n-1,t.firstElementChild.lastElementChild.children[1].classList.contains("blogs__btn--clicked")&&(t.firstElementChild.lastElementChild.children[1].classList.toggle("blogs__btn--clicked"),t.firstElementChild.lastElementChild.children[1].lastElementChild.textContent=Number(t.firstElementChild.lastElementChild.children[1].lastElementChild.textContent)-1);let r={account:t.firstElementChild.children[1].firstElementChild.textContent,title:t.firstElementChild.firstElementChild.textContent,text:t.firstElementChild.children[2].textContent.trim(),numOfLikes:t.firstElementChild.lastElementChild.firstElementChild.lastElementChild.textContent,numOfDislikes:t.firstElementChild.lastElementChild.children[1].lastElementChild.textContent,comments:[]};for(let e=0;e<t.lastElementChild.children.length;e++)r.comments.push({commenter:t.lastElementChild.children[e].firstElementChild.textContent,comment:t.lastElementChild.children[e].lastElementChild.textContent});y(Array.from(v.children).indexOf(e.target.closest(".blogs__container"))+1,r)}else if(e.target.classList.contains("blogs__btn--dislike")||e.target.parentNode.classList.contains("blogs__btn--dislike")||e.target.parentNode.parentNode.classList.contains("blogs__btn--dislike")){let t=e.target.closest(".blogs__container");t.firstElementChild.lastElementChild.children[1].classList.toggle("blogs__btn--clicked"),t.firstElementChild.lastElementChild.children[1].classList.contains("blogs__btn--clicked")?t.firstElementChild.lastElementChild.children[1].lastElementChild.textContent=Number(t.firstElementChild.lastElementChild.children[1].lastElementChild.textContent)+1:t.firstElementChild.lastElementChild.children[1].lastElementChild.textContent=Number(t.firstElementChild.lastElementChild.children[1].lastElementChild.textContent)-1,t.firstElementChild.lastElementChild.firstElementChild.classList.contains("blogs__btn--clicked")&&(t.firstElementChild.lastElementChild.firstElementChild.classList.toggle("blogs__btn--clicked"),t.firstElementChild.lastElementChild.firstElementChild.lastElementChild.textContent=Number(t.firstElementChild.lastElementChild.firstElementChild.lastElementChild.textContent)-1);let n={account:t.firstElementChild.children[1].firstElementChild.textContent,title:t.firstElementChild.firstElementChild.textContent,text:t.firstElementChild.children[2].textContent.trim(),numOfLikes:t.firstElementChild.lastElementChild.firstElementChild.lastElementChild.textContent,numOfDislikes:t.firstElementChild.lastElementChild.children[1].lastElementChild.textContent,comments:[]};for(let e=0;e<t.lastElementChild.children.length;e++)n.comments.push({commenter:t.lastElementChild.children[e].firstElementChild.textContent,comment:t.lastElementChild.children[e].lastElementChild.textContent});y(Array.from(v.children).indexOf(e.target.closest(".blogs__container"))+1,n)}}),document.querySelector(".add__cancel").addEventListener("click",e=>document.querySelector(".add__backdrop").classList.add("is-hidden")),_.addEventListener("click",e=>document.querySelector(".add__backdrop").classList.remove("is-hidden")),document.querySelector(".add__modal").addEventListener("submit",async e=>{e.preventDefault();let t={account:document.querySelector("#postAccount").value,title:document.querySelector("#postTitle").value,text:document.querySelector("#postText").value,numOfLikes:0,numOfDislikes:0,comments:[]};await h(t),await c().then(e=>{v.innerHTML=d(e),document.querySelector(".blogs__btn--comment")}),document.querySelector(".add__backdrop").classList.add("is-hidden"),document.querySelector("#postAccount").value="",document.querySelector("#postTitle").value="",document.querySelector("#postText").value=""});const b=document.querySelector(".login__backdrop"),w=document.querySelector(".register__backdrop");document.querySelector(".header__btn--login").addEventListener("click",e=>b.classList.remove("is-hidden")),document.querySelector(".login__link").addEventListener("click",e=>{e.preventDefault(),w.classList.remove("is-hidden"),b.classList.add("is-hidden")}),document.querySelector(".login__backdrop").addEventListener("click",e=>{e.target.classList.contains("login__backdrop")&&b.classList.add("is-hidden")}),document.querySelector(".header__btn--register").addEventListener("click",e=>w.classList.remove("is-hidden")),document.querySelector(".register__link").addEventListener("click",e=>{e.preventDefault(),b.classList.remove("is-hidden"),w.classList.add("is-hidden")}),document.querySelector(".register__backdrop").addEventListener("click",e=>{e.target.classList.contains("register__backdrop")&&w.classList.add("is-hidden")});const I=()=>void 0,E=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},C=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],o=((7&i)<<18|(63&s)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{let s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4,h=(15&o)<<2|l>>6,f=63&l;!a&&(f=64,s||(h=64)),r.push(n[u],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(E(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):C(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,o=++t<e.length?n[e.charAt(t)]:64,a=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new S;let l=i<<2|s>>4;if(r.push(l),64!==o){let e=s<<4&240|o>>2;if(r.push(e),64!==a){let e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k=function(e){let t=E(e);return T.encodeByteArray(t,!0)},A=function(e){return k(e).replace(/\./g,"")},O=function(e){try{return T.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},R=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o)return o;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,P=()=>{},N=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&O(e[1]);return t&&JSON.parse(t)},L=()=>{try{return I()||R()||P()||N()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},D=e=>{var t,n;return null==(n=null==(t=L())?void 0:t.emulatorHosts)?void 0:n[e]},x=()=>{var e;return null==(e=L())?void 0:e.config},M=e=>{var t;return null==(t=L())?void 0:t[`_${e}`]};class U{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function j(e){return e.endsWith(".cloudworkstations.dev")}async function V(e){return(await fetch(e,{credentials:"include"})).ok}const F={};let z=!1;function B(e,t){if("undefined"==typeof window||"undefined"==typeof document||!j(window.location.host)||F[e]===t||F[e]||z)return;function n(e){return`__firebase__banner__${e}`}F[e]=t;let r="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(F))F[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){let e,t,s=(e=document.getElementById(r),t=!1,e||((e=document.createElement("div")).setAttribute("id",r),t=!0),{created:t,element:e}),o=n("text"),a=document.getElementById(o)||document.createElement("span"),l=n("learnmore"),u=document.getElementById(l)||document.createElement("a"),c=n("preprendIcon"),h=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.created){let e=s.element;e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center",u.setAttribute("id",l),u.innerText="Learn more",u.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",u.setAttribute("target","__blank"),u.style.paddingLeft="5px",u.style.textDecoration="underline";let t=function(){let e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{z=!0;let e=document.getElementById(r);e&&e.remove()},e}();h.setAttribute("width","24"),h.setAttribute("id",c),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px",e.append(h,a,u,t),document.body.appendChild(e)}i?(a.innerText="Preview backend disconnected.",h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText="Preview backend running in this workspace."),a.setAttribute("id",o)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function W(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class H extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$.prototype.create)}}class ${constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?(n=o,r=i,n.replace(q,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new H(s,l,i)}}const q=/\{\$([^}]+)}/g;function K(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(G(n)&&G(s)){if(!K(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function G(e){return null!==e&&"object"==typeof e}function J(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Y(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Z(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class X{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=Q),void 0===r.error&&(r.error=Q),void 0===r.complete&&(r.complete=Q);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q(){}function ee(e){return e&&e._delegate?e._delegate:e}class et{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const en="[DEFAULT]";class er{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new U;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!=(t=null==e?void 0:e.optional)&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}if(r)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:en})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=en){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=en){return this.instances.has(e)}getOptions(e=en){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!=(n=this.onInitCallbacks.get(r))?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===en?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=en){return this.component?this.component.multipleInstances?e:en:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ei{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new er(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const es=[];(r=s||(s={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";const eo={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},ea=s.INFO,el={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},eu=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=el[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ec{constructor(e){this.name=e,this._logLevel=ea,this._logHandler=eu,this._userLogHandler=null,es.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...e),this._logHandler(this,s.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...e),this._logHandler(this,s.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,s.INFO,...e),this._logHandler(this,s.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,s.WARN,...e),this._logHandler(this,s.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...e),this._logHandler(this,s.ERROR,...e)}}const eh=(e,t)=>t.some(t=>e instanceof t),ef=new WeakMap,ed=new WeakMap,ep=new WeakMap,eg=new WeakMap,em=new WeakMap;let ev={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ed.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ep.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return e_(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function e_(n){if(n instanceof IDBRequest){let e=new Promise((e,t)=>{let r=()=>{n.removeEventListener("success",i),n.removeEventListener("error",s)},i=()=>{e(e_(n.result)),r()},s=()=>{t(n.error),r()};n.addEventListener("success",i),n.addEventListener("error",s)});return e.then(e=>{e instanceof IDBCursor&&ef.set(e,n)}).catch(()=>{}),em.set(e,n),e}if(eg.has(n))return eg.get(n);let r=function(n){if("function"==typeof n)return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(n)?function(...e){return n.apply(ey(this),e),e_(ef.get(this))}:function(...e){return e_(n.apply(ey(this),e))}:function(e,...t){let r=n.call(ey(this),e,...t);return ep.set(r,e.sort?e.sort():[e]),e_(r)};return(n instanceof IDBTransaction&&function(e){if(ed.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});ed.set(e,t)}(n),eh(n,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(n,ev):n}(n);return r!==n&&(eg.set(n,r),em.set(r,n)),r}const ey=e=>em.get(e),eb=["get","getKey","getAll","getAllKeys","count"],ew=["put","add","delete","clear"],eI=new Map;function eE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(eI.get(t))return eI.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=ew.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eb.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return eI.set(t,s),s}ev={...n=ev,get:(e,t,r)=>eE(e,t)||n.get(e,t,r),has:(e,t)=>!!eE(e,t)||n.has(e,t)};class eC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const eT="@firebase/app",eS="0.12.3",ek=new ec("@firebase/app"),eA="[DEFAULT]",eO={[eT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},eR=new Map,eP=new Map,eN=new Map;function eL(e,t){try{e.container.addComponent(t)}catch(n){ek.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function eD(e){let t=e.name;if(eN.has(t))return ek.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(eN.set(t,e),eR.values()))eL(n,e);for(let t of eP.values())eL(t,e);return!0}function ex(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function eM(e){return null!=e&&void 0!==e.settings}const eU=new $("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ej{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eU.create("app-deleted",{appName:this._name})}}const eV="11.7.3";function eF(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:eA,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw eU.create("bad-app-name",{appName:String(i)});if(n||(n=x()),!n)throw eU.create("no-options");let s=eR.get(i);if(s)if(K(n,s.options)&&K(r,s.config))return s;else throw eU.create("duplicate-app",{appName:i});let o=new ei(i);for(let e of eN.values())o.addComponent(e);let a=new ej(n,r,o);return eR.set(i,a),a}function ez(e,t,n){var r;let i=null!=(r=eO[e])?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ek.warn(e.join(" "));return}eD(new et(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const eB="firebase-heartbeat-store";let eW=null;function eH(){return eW||(eW=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(e,1),a=e_(o);return r&&o.addEventListener("upgradeneeded",e=>{r(e_(o.result),e.oldVersion,e.newVersion,e_(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(eB)}catch(e){console.warn(e)}}}).catch(e=>{throw eU.create("idb-open",{originalErrorMessage:e.message})})),eW}async function e$(e){try{let t=(await eH()).transaction(eB),n=await t.objectStore(eB).get(eK(e));return await t.done,n}catch(e){if(e instanceof H)ek.warn(e.message);else{let t=eU.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});ek.warn(t.message)}}}async function eq(e,t){try{let n=(await eH()).transaction(eB,"readwrite"),r=n.objectStore(eB);await r.put(t,eK(e)),await n.done}catch(e){if(e instanceof H)ek.warn(e.message);else{let t=eU.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});ek.warn(t.message)}}}function eK(e){return`${e.name}!${e.options.appId}`}class eG{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new eY(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eJ();if((null==(e=this._heartbeatsCache)?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ek.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=eJ(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),eZ(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eZ(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=A(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ek.warn(e),""}}}function eJ(){return new Date().toISOString().substring(0,10)}class eY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null==(e=i.error)?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await e$(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return eq(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return eq(this.app,{lastSentHeartbeatDate:null!=(t=e.lastSentHeartbeatDate)?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function eZ(e){return A(JSON.stringify({version:2,heartbeats:e})).length}function eX(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function eQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}eD(new et("platform-logger",e=>new eC(e),"PRIVATE")),eD(new et("heartbeat",e=>new eG(e),"PRIVATE")),ez(eT,eS,""),ez(eT,eS,"esm2017"),ez("fire-js",""),ez("firebase","11.7.3","app"),"function"==typeof SuppressedError&&SuppressedError;const e0=new $("auth","Firebase",eQ()),e1=new ec("@firebase/auth");function e2(e,...t){e1.logLevel<=s.ERROR&&e1.error(`Auth (${eV}): ${e}`,...t)}function e3(e,...t){throw e8(e,...t)}function e6(e,...t){return e8(e,...t)}function e4(e,t,n){return new $("auth","Firebase",Object.assign(Object.assign({},eQ()),{[t]:n})).create(t,{appName:e.name})}function e5(e){return e4(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e8(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return e0.create(e,...t)}function e7(e,t,...n){if(!e)throw e8(t,...n)}function e9(e){let t="INTERNAL ASSERTION FAILED: "+e;throw e2(t),Error(t)}function te(e,t){e||e9(t)}function tt(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.href)||""}function tn(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.protocol)||null}class tr{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||e9(n),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===tn()||"https:"===tn()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ti(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||e9(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class ts{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void e9("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void e9("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void e9("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const to={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ta=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tl=new tr(3e4,6e4);function tu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function tc(e,t,n,r,i={}){return th(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let o=J(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);let l=Object.assign({method:t,headers:a},i);return("undefined"==typeof navigator||"Cloudflare-Workers"!==navigator.userAgent)&&(l.referrerPolicy="no-referrer"),e.emulatorConfig&&j(e.emulatorConfig.host)&&(l.credentials="include"),ts.fetch()(await td(e,e.config.apiHost,n,o),l)})}async function th(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},to),t);try{let t=new tp(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw tg(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw tg(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw tg(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw tg(e,"user-disabled",s);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw e4(e,o,n);e3(e,o)}}catch(t){if(t instanceof H)throw t;e3(e,"network-request-failed",{message:String(t)})}}async function tf(e,t,n,r,i={}){let s=await tc(e,t,n,r,i);return"mfaPendingCredential"in s&&e3(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function td(e,t,n,r){let i=`${t}${n}?${r}`,s=e.config.emulator?ti(e.config,i):`${e.config.apiScheme}://${i}`;return ta.includes(n)&&(await e._persistenceManagerAvailable,"COOKIE"===e._getPersistenceType())?e._getPersistence()._getFinalTarget(s).toString():s}class tp{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(e6(this.auth,"network-request-failed")),tl.get())})}}function tg(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=e6(e,t,r);return i.customData._tokenResponse=n,i}function tm(e){return void 0!==e&&void 0!==e.enterprise}class tv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)switch(t.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function t_(e,t){return tc(e,"GET","/v2/recaptchaConfig",tu(e,t))}async function ty(e,t){return tc(e,"POST","/v1/accounts:delete",t)}async function tb(e,t){return tc(e,"POST","/v1/accounts:lookup",t)}function tw(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function tI(e,t=!1){let n=ee(e),r=await n.getIdToken(t),i=tC(r);e7(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:tw(tE(i.auth_time)),issuedAtTime:tw(tE(i.iat)),expirationTime:tw(tE(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function tE(e){return 1e3*Number(e)}function tC(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return e2("JWT malformed, contained fewer than 3 sections"),null;try{let e=O(n);if(!e)return e2("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return e2("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function tT(e){let t=tC(e);return e7(t,"internal-error"),e7(void 0!==t.exp,"internal-error"),e7(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function tS(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof H&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class tk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!=(t=this.user.stsTokenManager.expirationTime)?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tA{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tw(this.lastLoginAt),this.creationTime=tw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tO(e){var t,n,r;let i=e.auth,s=await e.getIdToken(),o=await tS(e,tb(i,{idToken:s}));e7(null==o?void 0:o.users.length,i,"internal-error");let a=o.users[0];e._notifyReloadListener(a);let l=(null==(t=a.providerUserInfo)?void 0:t.length)?tP(a.providerUserInfo):[],u=(n=e.providerData,r=l,[...n.filter(e=>!r.some(t=>t.providerId===e.providerId)),...r]),c=e.isAnonymous,h=!(e.email&&a.passwordHash)&&!(null==u?void 0:u.length);Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new tA(a.createdAt,a.lastLoginAt),isAnonymous:!!c&&h})}async function tR(e){let t=ee(e);await tO(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tP(e){return e.map(e=>{var{providerId:t}=e,n=eX(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function tN(e,t){let n=await th(e,{},async()=>{let n=J({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await td(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",ts.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tL(e,t){return tc(e,"POST","/v2/accounts:revokeToken",tu(e,t))}class tD{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){e7(e.idToken,"internal-error"),e7(void 0!==e.idToken,"internal-error"),e7(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):tT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){e7(0!==e.length,"internal-error");let t=tT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(e7(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await tN(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new tD;return n&&(e7("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(e7("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(e7("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tD,this.toJSON())}_performRefresh(){return e9("not implemented")}}function tx(e,t){e7("string"==typeof e||void 0===e,"internal-error",{appName:t})}class tM{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=eX(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await tS(this,this.stsTokenManager.getToken(this.auth,e));return e7(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tI(this,e)}reload(){return tR(this)}_assign(e){this!==e&&(e7(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new tM(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){e7(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await tO(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(eM(this.auth.app))return Promise.reject(e5(this.auth));let e=await this.getIdToken();return await tS(this,ty(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;let c=null!=(n=t.displayName)?n:void 0,h=null!=(r=t.email)?r:void 0,f=null!=(i=t.phoneNumber)?i:void 0,d=null!=(s=t.photoURL)?s:void 0,p=null!=(o=t.tenantId)?o:void 0,g=null!=(a=t._redirectEventId)?a:void 0,m=null!=(l=t.createdAt)?l:void 0,v=null!=(u=t.lastLoginAt)?u:void 0,{uid:_,emailVerified:y,isAnonymous:b,providerData:w,stsTokenManager:I}=t;e7(_&&I,e,"internal-error");let E=tD.fromJSON(this.name,I);e7("string"==typeof _,e,"internal-error"),tx(c,e.name),tx(h,e.name),e7("boolean"==typeof y,e,"internal-error"),e7("boolean"==typeof b,e,"internal-error"),tx(f,e.name),tx(d,e.name),tx(p,e.name),tx(g,e.name),tx(m,e.name),tx(v,e.name);let C=new tM({uid:_,auth:e,email:h,emailVerified:y,displayName:c,isAnonymous:b,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(C.providerData=w.map(e=>Object.assign({},e))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(e,t,n=!1){let r=new tD;r.updateFromServerResponse(t);let i=new tM({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await tO(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];e7(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?tP(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length),o=new tD;o.updateFromIdToken(n);let a=new tM({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s});return Object.assign(a,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new tA(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length)}),a}}const tU=new Map;function tj(e){var t,n;t="Expected a class definition",e instanceof Function||e9(t);let r=tU.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||e9(n)):(r=new e,tU.set(e,r)),r}class tV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function tF(e,t,n){return`firebase:${e}:${t}:${n}`}tV.type="NONE";class tz{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=tF(this.userKey,r.apiKey,i),this.fullPersistenceKey=tF("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){let t=await tb(this.auth,{idToken:e}).catch(()=>void 0);return t?tM._fromGetAccountInfoResponse(this.auth,t,e):null}return tM._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new tz(tj(tV),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||tj(tV),s=tF(n,e.config.apiKey,e.name),o=null;for(let n of t)try{let t=await n._get(s);if(t){let r;if("string"==typeof t){let n=await tb(e,{idToken:t}).catch(()=>void 0);if(!n)break;r=await tM._fromGetAccountInfoResponse(e,n,t)}else r=tM._fromJSON(e,t);n!==i&&(o=r),i=n;break}}catch(e){}let a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length&&(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new tz(i,e,n)}}function tB(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(tq(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tG(t))return"Blackberry";if(tJ(t))return"Webos";if(tH(t))return"Safari";if((t.includes("chrome/")||t$(t))&&!t.includes("edge/"))return"Chrome";if(tK(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function tW(e=W()){return/firefox\//i.test(e)}function tH(e=W()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function t$(e=W()){return/crios\//i.test(e)}function tq(e=W()){return/iemobile/i.test(e)}function tK(e=W()){return/android/i.test(e)}function tG(e=W()){return/blackberry/i.test(e)}function tJ(e=W()){return/webos/i.test(e)}function tY(e=W()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tZ(e=W()){return tY(e)||tK(e)||tJ(e)||tG(e)||/windows phone/i.test(e)||tq(e)}function tX(e,t=[]){let n;switch(e){case"Browser":n=tB(W());break;case"Worker":n=`${tB(W())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eV}/${r}`}class tQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function t0(e,t={}){return tc(e,"GET","/v2/passwordPolicy",tu(e,t))}class t1{constructor(e){var t,n,r,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!=(t=s.minPasswordLength)?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!=(r=null==(n=e.allowedNonAlphanumericCharacters)?void 0:n.join(""))?r:"",this.forceUpgradeOnSignin=null!=(i=e.forceUpgradeOnSignin)&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null==(t=a.meetsMinPasswordLength)||t),a.isValid&&(a.isValid=null==(n=a.meetsMaxPasswordLength)||n),a.isValid&&(a.isValid=null==(r=a.containsLowercaseLetter)||r),a.isValid&&(a.isValid=null==(i=a.containsUppercaseLetter)||i),a.isValid&&(a.isValid=null==(s=a.containsNumericCharacter)||s),a.isValid&&(a.isValid=null==(o=a.containsNonAlphanumericCharacter)||o),a}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class t2{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t3(this),this.idTokenSubscription=new t3(this),this.beforeStateQueue=new tQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tj(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted){if(this.persistenceManager=await tz.create(this,e),null==(n=this._resolvePersistenceManagerAvailable)||n.call(this),!this._deleted){if(null==(r=this._popupRedirectResolver)?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null==(i=this.currentUser)?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await tb(this,{idToken:e}),n=await tM._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(eM(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null==(t=this.redirectUser)?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==o?void 0:o.user)&&(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(e7(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tO(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(eM(this.app))return Promise.reject(e5(this));let t=e?ee(e):null;return t&&e7(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&e7(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return eM(this.app)?Promise.reject(e5(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return eM(this.app)?Promise.reject(e5(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tj(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new t1(await t0(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await tL(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null==(e=this._currentUser)?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&tj(e)||this._popupRedirectResolver;e7(t,this,"argument-error"),this.redirectPersistenceManager=await tz.create(this,[tj(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null==(t=this._currentUser)?void 0:t._redirectEventId)===e)?this._currentUser:(null==(n=this.redirectUser)?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!=(t=null==(e=this.currentUser)?void 0:e.uid)?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(e7(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return e7(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tX(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null==(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(eM(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await (null==(e=this.appCheckServiceProvider.getImmediate({optional:!0}))?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){e1.logLevel<=s.WARN&&e1.warn(`Auth (${eV}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class t3{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new X(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return e7(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let t6={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t4(e){return`__${e}${Math.floor(1e6*Math.random())}`}class t5{constructor(){this.enterprise=new t8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class t8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const t7="NO_RECAPTCHA";class t9{constructor(e){this.type="recaptcha-enterprise",this.auth=ee(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{t_(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new tv(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;tm(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(t7)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t5().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&tm(window.grecaptcha))r(n,e,i);else{var s;if("undefined"==typeof window)return void i(Error("RecaptchaVerifier is only supported in browser"));let t=t6.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,t6.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function ne(e,t,n,r=!1,i=!1){let s,o=new t9(e);if(i)s=t7;else try{s=await o.verify(n)}catch(e){s=await o.verify(n,!0)}let a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){let e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function nt(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i)if(null==(s=e._getRecaptchaConfig())||!s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await ne(e,t,n,"getOobCode"===n);return r(e,i)}});else{let i=await ne(e,t,n,"getOobCode"===n);return r(e,i)}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(null==(o=e._getRecaptchaConfig())?void 0:o.isProviderEnabled("PHONE_PROVIDER")){let i=await ne(e,t,n);return r(e,i).catch(async i=>{var s;if((null==(s=e._getRecaptchaConfig())?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await ne(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await ne(e,t,n,!1,!0);return r(e,i)}}async function nn(e){let t=ee(e),n=new tv(await t_(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new t9(t).verify()}function nr(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ni(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class ns{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return e9("not implemented")}_getIdTokenResponse(e){return e9("not implemented")}_linkToIdToken(e,t){return e9("not implemented")}_getReauthenticationResolver(e){return e9("not implemented")}}async function no(e,t){return tc(e,"POST","/v1/accounts:signUp",t)}async function na(e,t){return tf(e,"POST","/v1/accounts:signInWithPassword",tu(e,t))}async function nl(e,t){return tf(e,"POST","/v1/accounts:signInWithEmailLink",tu(e,t))}async function nu(e,t){return tf(e,"POST","/v1/accounts:signInWithEmailLink",tu(e,t))}class nc extends ns{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new nc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new nc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return nt(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",na,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nl(e,{email:this._email,oobCode:this._password});default:e3(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return nt(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",no,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nu(e,{idToken:t,email:this._email,oobCode:this._password});default:e3(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nh(e,t){return tf(e,"POST","/v1/accounts:signInWithIdp",tu(e,t))}class nf extends ns{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new nf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):e3("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=eX(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new nf(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return nh(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,nh(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,nh(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=J(t)}return e}}async function nd(e,t){return tc(e,"POST","/v1/accounts:sendVerificationCode",tu(e,t))}async function np(e,t){return tf(e,"POST","/v1/accounts:signInWithPhoneNumber",tu(e,t))}async function ng(e,t){let n=await tf(e,"POST","/v1/accounts:signInWithPhoneNumber",tu(e,t));if(n.temporaryProof)throw tg(e,"account-exists-with-different-credential",n);return n}const nm={USER_NOT_FOUND:"user-not-found"};async function nv(e,t){return tf(e,"POST","/v1/accounts:signInWithPhoneNumber",tu(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),nm)}class n_ extends ns{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new n_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new n_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return np(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return ng(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return nv(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new n_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ny{constructor(e){var t,n,r,i,s,o;let a=Y(Z(e)),l=null!=(t=a.apiKey)?t:null,u=null!=(n=a.oobCode)?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!=(r=a.mode)?r:null);e7(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!=(i=a.continueUrl)?i:null,this.languageCode=null!=(s=a.lang)?s:null,this.tenantId=null!=(o=a.tenantId)?o:null}static parseLink(e){let t=function(e){let t=Y(Z(e)).link,n=t?Y(Z(t)).deep_link_id:null,r=Y(Z(e)).deep_link_id;return(r?Y(Z(r)).link:null)||r||n||t||e}(e);try{return new ny(t)}catch(e){return null}}}class nb{constructor(){this.providerId=nb.PROVIDER_ID}static credential(e,t){return nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=ny.parseLink(t);return e7(n,"argument-error"),nc._fromEmailAndCode(e,n.code,n.tenantId)}}nb.PROVIDER_ID="password",nb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",nb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class nw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nI extends nw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nE extends nI{constructor(){super("facebook.com")}static credential(e){return nf._fromParams({providerId:nE.PROVIDER_ID,signInMethod:nE.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nE.credentialFromTaggedObject(e)}static credentialFromError(e){return nE.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nE.credential(e.oauthAccessToken)}catch(e){return null}}}nE.FACEBOOK_SIGN_IN_METHOD="facebook.com",nE.PROVIDER_ID="facebook.com";class nC extends nI{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return nf._fromParams({providerId:nC.PROVIDER_ID,signInMethod:nC.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return nC.credentialFromTaggedObject(e)}static credentialFromError(e){return nC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return nC.credential(t,n)}catch(e){return null}}}nC.GOOGLE_SIGN_IN_METHOD="google.com",nC.PROVIDER_ID="google.com";class nT extends nI{constructor(){super("github.com")}static credential(e){return nf._fromParams({providerId:nT.PROVIDER_ID,signInMethod:nT.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nT.credentialFromTaggedObject(e)}static credentialFromError(e){return nT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nT.credential(e.oauthAccessToken)}catch(e){return null}}}nT.GITHUB_SIGN_IN_METHOD="github.com",nT.PROVIDER_ID="github.com";class nS extends nI{constructor(){super("twitter.com")}static credential(e,t){return nf._fromParams({providerId:nS.PROVIDER_ID,signInMethod:nS.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return nS.credentialFromTaggedObject(e)}static credentialFromError(e){return nS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return nS.credential(t,n)}catch(e){return null}}}async function nk(e,t){return tf(e,"POST","/v1/accounts:signUp",tu(e,t))}nS.TWITTER_SIGN_IN_METHOD="twitter.com",nS.PROVIDER_ID="twitter.com";class nA{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new nA({user:await tM._fromIdTokenResponse(e,n,r),providerId:nO(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new nA({user:e,providerId:nO(n),_tokenResponse:n,operationType:t})}}function nO(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class nR extends H{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,nR.prototype),this.customData={appName:e.name,tenantId:null!=(i=e.tenantId)?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new nR(e,t,n,r)}}function nP(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw nR._fromErrorAndOperation(e,n,t,r);throw n})}async function nN(e,t,n=!1){let r=await tS(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return nA._forOperation(e,"link",r)}async function nL(e,t,n=!1){let{auth:r}=e;if(eM(r.app))return Promise.reject(e5(r));let i="reauthenticate";try{let s=await tS(e,nP(r,i,t,e),n);e7(s.idToken,r,"internal-error");let o=tC(s.idToken);e7(o,r,"internal-error");let{sub:a}=o;return e7(e.uid===a,r,"user-mismatch"),nA._forOperation(e,i,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&e3(r,"user-mismatch"),e}}async function nD(e,t,n=!1){if(eM(e.app))return Promise.reject(e5(e));let r="signIn",i=await nP(e,r,t),s=await nA._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function nx(e,t){return nD(ee(e),t)}async function nM(e){let t=ee(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function nU(e,t,n){if(eM(e.app))return Promise.reject(e5(e));let r=ee(e),i=nt(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nk,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&nM(e),t}),o=await nA._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function nj(e,t){return tc(e,"POST","/v2/accounts/mfaEnrollment:start",tu(e,t))}new WeakMap;const nV="__sak";class nF{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(nV,"1"),this.storage.removeItem(nV),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class nz extends nF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tZ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=W();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nz.type="LOCAL";class nB extends nF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nB.type="SESSION";class nW{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new nW(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),o=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function nH(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}nW.receivers=[];class n${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i,s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((o,a)=>{let l=nH("",20);s.port1.start();let u=setTimeout(()=>{a(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{a(Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(u),clearTimeout(r),a(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function nq(){return window}function nK(){return void 0!==nq().WorkerGlobalScope&&"function"==typeof nq().importScripts}async function nG(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}const nJ="firebaseLocalStorageDb",nY="firebaseLocalStorage",nZ="fbase_key";class nX{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nQ(e,t){return e.transaction([nY],t?"readwrite":"readonly").objectStore(nY)}function n0(){let e=indexedDB.open(nJ,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(nY,{keyPath:nZ})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(nY)?t(n):(n.close(),await new nX(indexedDB.deleteDatabase(nJ)).toPromise(),t(await n0()))})})}async function n1(e,t,n){return new nX(nQ(e,!0).put({[nZ]:t,value:n})).toPromise()}async function n2(e,t){let n=nQ(e,!1).get(t),r=await new nX(n).toPromise();return void 0===r?null:r.value}function n3(e,t){return new nX(nQ(e,!0).delete(t)).toPromise()}class n6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await n0()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nK()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nW._getInstance(nK()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await nG(),!this.activeServiceWorker)return;this.sender=new n$(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null==(e=n[0])?void 0:e.fulfilled)&&(null==(t=n[0])?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null==(t=null==navigator?void 0:navigator.serviceWorker)?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await n0();return await n1(e,nV,"1"),await n3(e,nV),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>n1(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>n2(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>n3(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new nX(nQ(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function n4(e,t){return tc(e,"POST","/v2/accounts/mfaSignIn:start",tu(e,t))}n6.type="LOCAL",t4("rcb"),new tr(3e4,6e4);const n5="recaptcha";async function n8(e,t,n){var r;if(!e._getRecaptchaConfig())try{await nn(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof t?{phoneNumber:t}:t,"session"in i){let t=i.session;if("phoneNumber"in i){e7("enroll"===t.type,e,"internal-error");let r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===t7){e7((null==n?void 0:n.type)===n5,e,"argument-error");let r=await n7(e,t,n);return nj(e,r)}return nj(e,t)},o=nt(e,r,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{e7("signin"===t.type,e,"internal-error");let s=(null==(r=i.multiFactorHint)?void 0:r.uid)||i.multiFactorUid;e7(s,e,"missing-multi-factor-info");let o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===t7){e7((null==n?void 0:n.type)===n5,e,"argument-error");let r=await n7(e,t,n);return n4(e,r)}return n4(e,t)},l=nt(e,o,"mfaSmsSignIn",a,"PHONE_PROVIDER");return(await l.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===t7){e7((null==n?void 0:n.type)===n5,e,"argument-error");let r=await n7(e,t,n);return nd(e,r)}return nd(e,t)},s=nt(e,t,"sendVerificationCode",r,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{null==n||n._reset()}}async function n7(e,t,n){e7(n.type===n5,e,"argument-error");let r=await n.verify();e7("string"==typeof r,e,"argument-error");let i=Object.assign({},t);if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}class n9{constructor(e){this.providerId=n9.PROVIDER_ID,this.auth=ee(e)}verifyPhoneNumber(e,t){return n8(this.auth,e,ee(t))}static credential(e,t){return n_._fromVerification(e,t)}static credentialFromResult(e){return n9.credentialFromTaggedObject(e)}static credentialFromError(e){return n9.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?n_._fromTokenResponse(t,n):null}}n9.PROVIDER_ID="phone",n9.PHONE_SIGN_IN_METHOD="phone";class re extends ns{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nh(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rt(e){return nD(e.auth,new re(e),e.bypassAuthState)}function rn(e){let{auth:t,user:n}=e;return e7(n,t,"internal-error"),nL(n,new re(e),e.bypassAuthState)}async function rr(e){let{auth:t,user:n}=e;return e7(n,t,"internal-error"),nN(n,new re(e),e.bypassAuthState)}class ri{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);let a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rt;case"linkViaPopup":case"linkViaRedirect":return rr;case"reauthViaPopup":case"reauthViaRedirect":return rn;default:e3(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||e9(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||e9(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rs=new tr(2e3,1e4);class ro extends ri{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return e7(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||e9(t);let n=nH();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(e6(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null==(e=this.authWindow)?void 0:e.associatedEvent)||null}cancel(){this.reject(e6(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null==(n=null==(t=this.authWindow)?void 0:t.window)?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(e6(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rs.get())};e()}}ro.currentPopupAction=null;const ra=new Map;class rl extends ri{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ra.get(this.auth._key());if(!e){try{let t=await ru(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}ra.set(this.auth._key(),e)}return this.bypassAuthState||ra.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ru(e,t){var n;let r=tF("pendingRedirect",(n=t).config.apiKey,n.name),i=tj(e._redirectPersistence);if(!await i._isAvailable())return!1;let s=await i._get(r)==="true";return await i._remove(r),s}function rc(e,t){ra.set(e._key(),t)}async function rh(e,t,n=!1){if(eM(e.app))return Promise.reject(e5(e));let r=ee(e),i=t?tj(t):(e7(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),s=new rl(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class rf{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!rp(e)){let r=(null==(n=e.error.code)?void 0:n.split("auth/")[1])||"internal-error";t.onError(e6(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rd(e))}saveEventToCache(e){this.cachedEventUids.add(rd(e)),this.lastProcessedEventTime=Date.now()}}function rd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function rp({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function rg(e,t={}){return tc(e,"GET","/v1/projects",t)}const rm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rv=/^https?/;async function r_(e){if(e.config.emulator)return;let{authorizedDomains:t}=await rg(e);for(let e of t)try{if(function(e){let t=tt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!rv.test(n))return!1;if(rm.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}e3(e,"unauthorized-domain")}const ry=new tr(3e4,6e4);function rb(){let e=nq().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let rw=null;const rI=new tr(5e3,15e3),rE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function rT(e){let t=await (rw=rw||new Promise((t,n)=>{var r,i,s,o;function a(){rb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{rb(),n(e6(e,"network-request-failed"))},timeout:ry.get()})}if(null==(i=null==(r=nq().gapi)?void 0:r.iframes)?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null==(s=nq().gapi)?void 0:s.load)a();else{let t=t4("iframefcb");return nq()[t]=()=>{gapi.load?a():n(e6(e,"network-request-failed"))},(o=`${t6.gapiScript}?onload=${t}`,t6.loadJS(o)).catch(e=>n(e))}}).catch(e=>{throw rw=null,e})),n=nq().gapi;return e7(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;e7(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?ti(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:eV},i=rC.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${J(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rE,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=e6(e,"network-request-failed"),s=nq().setTimeout(()=>{r(i)},rI.get());function o(){nq().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const rS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const rA=encodeURIComponent("fac");async function rO(e,t,n,r,i,s){e7(e.config.authDomain,e,"auth-domain-config-required"),e7(e.config.apiKey,e,"invalid-api-key");let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:eV,eventId:i};if(t instanceof nw)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(o.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))o[n]=r;if(t instanceof nI){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}for(let t of(e.tenantId&&(o.tid=e.tenantId),Object.keys(o)))void 0===o[t]&&delete o[t];let a=await e._getAppCheckToken(),l=a?`#${rA}=${encodeURIComponent(a)}`:"";return`${function({config:e}){return e.emulator?ti(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${J(o).slice(1)}${l}`}const rR="webStorageSupport",rP=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nB,this._completeRedirectFn=rh,this._overrideRedirectResult=rc}async _openPopup(e,t,n,r){var i,s,o;s=null==(i=this.eventManagers[e._key()])?void 0:i.manager,o="_initialize() not called before _openPopup()",s||e9(o);let a=await rO(e,t,n,tt(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},rS),{width:r.toString(),height:i.toString(),top:s,left:o}),u=W().toLowerCase();n&&(a=t$(u)?"_blank":n),tW(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=W()){var t;return tY(e)&&!!(null==(t=window.navigator)?void 0:t.standalone)}(u)&&"_self"!==a)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new rk(null);let h=window.open(t||"",a,c);e7(h,e,"popup-blocked");try{h.focus()}catch(e){}return new rk(h)}(e,a,nH())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await rO(e,t,n,tt(),r),nq().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||e9(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await rT(e),n=new rf(e);return t.register("authEvent",t=>(e7(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rR,{type:rR},n=>{var r;let i=null==(r=null==n?void 0:n[0])?void 0:r[rR];void 0!==i&&t(!!i),e3(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=r_(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tZ()||tH()||tY()}};class rN{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return e9("unexpected MultiFactorSessionType")}}}class rL extends rN{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rL(e)}_finalizeEnroll(e,t,n){return tc(e,"POST","/v2/accounts/mfaEnrollment:finalize",tu(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return tc(e,"POST","/v2/accounts/mfaSignIn:finalize",tu(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class rD extends rN{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new rD(t,void 0,e)}static _fromEnrollmentId(e,t){return new rD(t,e)}async _finalizeEnroll(e,t,n){return e7(void 0!==this.secret,e,"argument-error"),tc(e,"POST","/v2/accounts/mfaEnrollment:finalize",tu(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){e7(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return tc(e,"POST","/v2/accounts/mfaSignIn:finalize",tu(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class rx{constructor(e,t,n,r,i,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new rx(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(rM(e)||rM(t))&&(r=!0),r&&(rM(e)&&(e=(null==(n=this.auth.currentUser)?void 0:n.email)||"unknownuser"),rM(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function rM(e){return void 0===e||(null==e?void 0:e.length)===0}var rU="@firebase/auth",rj="1.10.4";class rV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null==(e=this.auth.currentUser)?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){e7(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rF=M("authIdTokenMaxAge")||300;let rz=null;const rB=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rF)return;let i=null==n?void 0:n.token;rz!==i&&(rz=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};t6={loadJS:e=>new Promise((t,n)=>{var r,i;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=e6("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",(null!=(i=null==(r=document.getElementsByTagName("head"))?void 0:r[0])?i:document).appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},i="Browser",eD(new et("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;e7(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let l=new t2(n,r,s,{apiKey:o,authDomain:a,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tX(i)}),u=(null==t?void 0:t.persistence)||[],c=(Array.isArray(u)?u:[u]).map(tj);return(null==t?void 0:t.errorMap)&&l._updateErrorMap(t.errorMap),l._initializeWithPersistence(c,null==t?void 0:t.popupRedirectResolver),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),eD(new et("auth-internal",e=>new rV(ee(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ez(rU,rj,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(i)),ez(rU,rj,"esm2017");const rW=function(e=function(e=eA){let t=eR.get(e);if(!t&&e===eA&&x())return eF();if(!t)throw eU.create("no-app",{appName:e});return t}()){let t=ex(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=ex(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(K(n.getOptions(),null!=t?t:{}))return e;e3(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:rP,persistence:[n6,nz,nB]}),r=M("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=rB(e.toString());ee(n).beforeAuthStateChanged(t,()=>t(n.currentUser)),ee(n).onIdTokenChanged(e=>t(e),void 0,void 0)}}let i=D("auth");return i?!function(e,t,n){let r=ee(e);e7(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=nr(t),{host:s,port:o}=function(e){let t=nr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:ni(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:ni(t)}}}(t),a=null===o?"":`:${o}`,l={url:`${i}//${s}${a}/`},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator){e7(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),e7(K(l,r.config.emulator)&&K(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,j(s)?(B("Auth",!0),V(`${i}//${s}${a}`)):function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`):B("Auth",!1),n}(eF({apiKey:"AIzaSyBxbIT-MIsnxUi05CHEbEqP075c77DpayQ",authDomain:"code-chronicles-dev-blogs.firebaseapp.com",projectId:"code-chronicles-dev-blogs",storageBucket:"code-chronicles-dev-blogs.firebasestorage.app",messagingSenderId:"492057821952",appId:"1:492057821952:web:08a0e559d7c31115c029e5",measurementId:"G-FZFNXQDPLZ"})),rH=document.querySelector(".login__form"),r$=document.querySelector(".register__form");rH.addEventListener("submit",e=>{e.preventDefault();let t=rH.querySelectorAll(".login__input"),n=t[0].value.trim(),r=t[1].value.trim();(eM(rW.app)?Promise.reject(e5(rW)):nx(ee(rW),nb.credential(n,r)).catch(async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&nM(rW),e})).then(e=>{alert("Logged in successfully!"),console.log(e.user),document.querySelector(".login__backdrop").classList.add("is-hidden")}).catch(e=>{alert(e.message)}),document.querySelector(".header__text").textContent=`Account in use: ${n}`}),r$.addEventListener("submit",e=>{e.preventDefault();let t=r$.querySelectorAll(".register__input"),n=t[0].value.trim();t[1].value.trim();let r=t[2].value.trim();if(r!==t[3].value.trim())return alert("Passwords don't match!");nU(rW,n,r).then(e=>{alert("Account created!"),console.log(e.user),document.querySelector(".register__backdrop").classList.add("is-hidden")}).catch(e=>{alert(e.message)})});
//# sourceMappingURL=CodeChronicles.6adafbcc.js.map
